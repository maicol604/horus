{"version":3,"sources":["Components/ConfirmDialog/index.js","Components/CheckboxGroup/index.js","Components/HorusChart/Item/Variable/index.js","Components/HorusChart/Item/index.js","Components/HorusChart/index.js","Components/Modal/index.js","Components/FullScreenDialog/index.js","Components/ColorPicker/index.js","Pages/NewData/Groupers/index.js","Components/RadioGroup/index.js","Pages/NewData/Skus/RadioGropupGroupers/index.js","Pages/NewData/Skus/index.js","Components/RelatableBoxes/Draggable/index.js","Components/RelatableBoxes/StartBox/index.js","Components/RelatableBoxes/EndBox/DeleteNode/index.js","Components/RelatableBoxes/EndBox/index.js","Components/ScreenShot/index.js","Components/RelatableBoxes/index.js","Components/Tabs/index.js","Pages/NewData/index.js","Pages/Categories/Category/index.js","Pages/Categories/index.js","Components/CustomCursor/horus.svg","Components/CustomCursor/index.js","Hooks/useMousePosition.js","Containers/Header/index.js","App.js","index.js"],"names":["AlertDialog","props","React","useState","open","setOpen","handleClose","Button","onClick","children","Dialog","onClose","DialogTitle","id","title","DialogContent","DialogContentText","message","DialogActions","color","onOk","autoFocus","useStyles","makeStyles","theme","colorSquare","width","height","borderRadius","marginRight","border","flex","checkboxContainer","display","alignItems","CheckboxGroup","items","onChange","name","value","itemList","setItemList","classes","handleChange","index","aux","JSON","parse","stringify","slice","checked","target","useEffect","flag","i","length","map","data","FormGroup","row","onchange","className","style","backgroundColor","Fragment","FormControlLabel","control","Checkbox","label","variablesCircle","marginBottom","popup","position","bottom","left","defaultVariable","Variable","handleOpen","Card","CardContent","Grid","container","spacing","item","xs","fullWidth","onMouseEnter","onMouseLeave","padding","overflow","zIndex","groupersContainer","variablesContainer","top","right","variablesContainerBottom","borderColor","description","opacity","paddingLeft","paddingTop","fontSize","Item","variant","groupers","vars","grouper","img","Avatar","alt","src","sx","bgcolor","toUpperCase","charAt","textTransform","postition","maker","presentation","fontWeight","content","unit","getVariantContent","WrapperDiv","styled","div","box","chartRow","flexDirection","justifyContent","HorusChart","categories","subcategories","skus","brands","settings","setSettings","newSettings","j","category","push","from","split","join","to","positions","start","side","indent","end","b","joinBrands","brand","oldId","subcategory","getItem","type","variables","k","getBrands","newBrands","lineClasses","stroke","strokeWidth","getClasses","transform","boxShadow","p","visible","Modal","Paper","root","appBar","input","iconButton","button","close","cursor","Transition","forwardRef","ref","Slide","direction","FullScreenDialog","filters","setVisible","apply","conf","filter","setFilter","d","handleClickOpen","Fab","size","fullScreen","TransitionComponent","edge","Typography","Divider","e","Stack","primary","newSkus","getSkus","colorContainer","colorPicker","ColorPicker","onChangeComplete","background","state","setState","anchorEl","setAnchorEl","callback","wrapperRef","useRef","handleChangeComplete","hex","handleVisible","currentTarget","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","Menu","disableAlpha","initialValue","formControl","minWidth","selectEmpty","modal","randomColor","Math","floor","random","toString","Step2","pushGrouper","updateGroupers","removeGrouper","setGrouper","editGrouper","setEditGrouper","openEditGrouper","setOpenEditGrouper","handleInputGrouper","handleRemoveGrouper","align","TextField","required","multiline","disabled","RadioButtonsGroup","FormControl","component","FormLabel","RadioGroup","Radio","pushSku","updateSkus","removeSku","onFilter","sku","setSku","openEditSku","setOpenEditSku","editSku","setEditSku","filterData","handleInputSku","handleRemoveSku","InputLabel","Select","MenuItem","replace","marginTop","cpy","dragabbleNode","TransitionEvent","Draggable2","fixed","onStop","nodeRef","x","y","setConf","getTranslateValues","translate","result","parseInt","error","console","handle","defaultPosition","scale","onStart","onDrag","visibility","startNode","boxSizing","transition","startNodeContainer","detail","startPoint","StartBox","focus","setFocus","borderWidth","dataContainer","Draggable","endNodePoint","nodeContainer","DeleteNode","related","relations","onEnterItem","onLeaveItem","onDelete","Boolean","Tooltip","placement","anchorOrigin","horizontal","vertical","MenuListProps","handleDelete","endNode","magnet","grouperCircle","EndBox","onEnter","onExit","onEnterDelete","onExitDelete","hover","setHover","circularButon","margin","alert","capture","ScreenShot","onCapture","createRef","useScreenshot","image","takeScreenShot","loaded","setLoaded","onLoad","base64Data","fileName","linkSource","downloadLink","createElement","href","download","click","downloadBase64File","paddingBottom","col","RelatableBoxes","dataFrom","dataTo","onUpdate","draggablesNodes","setDraggablesNodes","enter","setEnter","newArray","newData","toData","fromData","handleUpdate","handleEnter","handleExit","handleStop","isRelated","changeLineColorFrom","newClass","getRelations","response","aux2","newDraggables","hanldeDelete","TabPanel","other","role","hidden","Box","BasicTabs","tabs","setValue","borderBottom","Tabs","newValue","Tab","a11yProps","getid","initialValues","pos","actionsContainer","resetContainer","NewData","onFinish","activeStep","setActiveStep","step","subStep","setSubStep","setSubcategory","editSubcategory","setEditSubcategory","openEditSubcategory","setOpenEditSubcategory","tab","setTab","steps","handleInputChangeCategory","handleInputChangeSubcategories","pushSubcategory","splice","getSubcategories","handleRemoveSubcategory","skuFilter","Stepper","orientation","alternativeLabel","Step","StepLabel","StepContent","LinearProgress","Breadcrumbs","separator","auxSkus","Groupers","Skus","getStepContent","base","sorted","sortSkus","sortSubcategories","Category","handleClick","Collapse","in","timeout","unmountOnExit","light","Categories","setCategories","waiting","setWaiting","borderRight","maxHeight","borderTop","CustomCursor","mousePosition","setMousePosition","mouseMoveHandler","clientX","clientY","useMousePosition","logo","HeaderContainer","palette","bg","main","Header","createTheme","secondary","App","ThemeProvider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c3cfb008.chunk.js","sourcesContent":["import React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nexport default function AlertDialog(props) {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleOk = () => {\r\n        if(props.onOk){\r\n            props.onOk();\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n  return (\r\n    <div>\r\n        <Button onClick={handleClickOpen}>\r\n            {props.children}\r\n        </Button>\r\n        <Dialog\r\n            open={open}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">{props.title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {props.message}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                    Cancelar\r\n                </Button>\r\n                <Button onClick={handleOk} color=\"primary\" autoFocus>\r\n                    Aceptar\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nimport Checkbox from '@mui/material/Checkbox';\r\nconst useStyles = makeStyles((theme) => ({\r\n    colorSquare: {\r\n        width: '1em',\r\n        height: '1em',\r\n        borderRadius: '2px',\r\n        marginRight: '.5em',\r\n        border: '2px solid #c4c4c4',\r\n        flex: '0 0 auto'\r\n    },\r\n    checkboxContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        width: 'inherit'\r\n    },\r\n}));\r\n\r\nexport default function CheckboxGroup({items=[], title='', onChange, name, value=null}) {\r\n    const [itemList, setItemList] = React.useState([]);\r\n    const classes = useStyles();\r\n    const handleChange = (index) => {\r\n        let aux = JSON.parse(JSON.stringify(itemList.slice()));\r\n        aux[index].checked = !aux[index].checked;\r\n        setItemList(aux);\r\n        if(onChange)\r\n            onChange({target: {name, value:aux}})\r\n    };\r\n\r\n    React.useEffect(()=>{\r\n        //console.log(items)\r\n        let flag = false;\r\n        for(let i=0;i<items.length;i++){\r\n            if(items[i].checked)\r\n                flag = true;\r\n        }\r\n        setItemList(items); \r\n        if(!flag || value===null)\r\n            setItemList(items.map(data=>({ ...data, checked:false })));\r\n    },[])\r\n\r\n    React.useEffect(()=>{\r\n        if(value===null)\r\n            setItemList(items.map(data=>({ ...data, checked:false })));\r\n    },[value])\r\n\r\n    return (\r\n        <FormGroup row onChange={onchange}>\r\n            {itemList.map((data, index)=>\r\n                <div key={index} className={classes.checkboxContainer}>\r\n                    {data.color?\r\n                        <div className={classes.colorSquare} style={{backgroundColor:data.color}}/>\r\n                        :\r\n                        <React.Fragment/>\r\n                    }\r\n                    <FormControlLabel\r\n                        control={\r\n                            <Checkbox\r\n                                checked={data.checked}\r\n                                onChange={()=>handleChange(index)}\r\n                                name={ index }\r\n                                color=\"primary\"\r\n                            />\r\n                        }\r\n                        label={data.name}\r\n                    />\r\n                </div>\r\n            )}\r\n        </FormGroup>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Grid from '@mui/material/Grid';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    variablesCircle: {\r\n        width: '1.5em',\r\n        height: '.5em',\r\n        borderRadius: '5px',\r\n        flex: '0 0 auto',\r\n        marginBottom: '.25em',\r\n        border: '1px solid #fff'\r\n    },\r\n    popup: {\r\n        position: 'absolute',\r\n        bottom: '1.5em',\r\n        left: '0',\r\n        width: '10em'\r\n    }\r\n}));\r\n\r\nconst defaultVariable = {\r\n    name: 'testing name',\r\n    //variables: [{name:'test 1', color: 'blue'}, {name: 'test 2', color: 'red'}]\r\n}\r\n\r\nconst Variable = ({color, data = defaultVariable, style, position='top'}) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleOpen = (value) => {\r\n        setOpen(value);\r\n    }\r\n\r\n    return (\r\n        <div style={{...style, position:'relative'}}>\r\n            <div className={classes.popup} style={{display: open?'flex':'none'/*, bottom: position==='top'?'-2em':'0'*/}}>\r\n                <Card style={{width: '100%'}}>\r\n                    <CardContent>\r\n                        <Grid container alignItems='center' spacing={3}>\r\n                            <Grid item xs={12} fullWidth>\r\n                                {data.name}\r\n                            </Grid>\r\n                        </Grid>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n            <div \r\n                className={classes.variablesCircle} \r\n                style={{backgroundColor:color}}\r\n                onMouseEnter={()=>handleOpen(true)}\r\n                onMouseLeave={()=>handleOpen(false)}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Variable;","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nimport Variable from './Variable';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    container: {\r\n        //width: '15em',\r\n        //height: '5em',\r\n        position: 'relative',\r\n        marginBottom: '2em',\r\n        backgroundColor: '#fff',\r\n        borderRadius: '2px',\r\n        padding: '.25em 1.5em',\r\n        overflow: 'hidden',\r\n        zIndex: 1,\r\n        display:'flex', \r\n        alignItems:'center'\r\n        //border: '1px solid #E6EBF1'\r\n    },\r\n    groupersContainer: {\r\n        display: 'flex',\r\n        position: 'absolute'\r\n    },\r\n    variablesContainer: {\r\n        position: 'absolute',\r\n        top: '0',\r\n        right: '-2em'\r\n    },\r\n    variablesContainerBottom: {\r\n        position: 'absolute',\r\n        display: 'flex',\r\n        bottom: '-.25em',\r\n    },\r\n    borderColor: {\r\n        backgroundColor: props => props.color,\r\n        height: '110%',\r\n        width: '.5em',\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n    },\r\n    description: {\r\n        opacity: '.5',\r\n        padding: '.5em',\r\n        paddingLeft: 0,\r\n        paddingTop: '.25em',\r\n        fontSize: '.75em'\r\n    }\r\n}));\r\n\r\nconst Item = ({id, style, title='', variant='', groupers=[], vars=[], data=null}) => {\r\n\r\n    const classes = useStyles({color:data.grouper?data.grouper.color:''});\r\n\r\n    const getVariantContent = () => {\r\n        switch(variant){\r\n            case 'sku':\r\n                return (\r\n                    <>\r\n                        <div style={{postition: 'relative', width: '100%'}}>\r\n                            <div className={classes.borderColor}/>\r\n                            <div style={{display: 'flex'}}>\r\n                                <div style={{textTransform: 'capitalize'}}>\r\n                                    {data.grouper.name}\r\n                                </div> / \r\n                                <div style={{textTransform: 'capitalize'}}>\r\n                                    {data.grouper.maker}\r\n                                </div>\r\n                            </div>\r\n                            <div style={{display: 'flex'}}>\r\n                                <span style={{textTransform: 'capitalize'}}>\r\n                                    {data.grouper.presentation}\r\n                                </span> \r\n                                <span style={{fontWeight: '600'}}>\r\n                                    {data.content} {data.unit} / {data.presentation}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classes.variablesContainer}>\r\n                            {\r\n                                vars.map((data,index)=>\r\n                                    <Variable key={index} color={data.color}/>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </>\r\n                )\r\n            case 'subcategory':\r\n                return (\r\n                    <>\r\n                        <div className={classes.borderColor} style={{backgroundColor:data.color}}/>\r\n                        <div className={classes.description}>\r\n                            {data.description}\r\n                        </div>  \r\n                        <div className={classes.variablesContainerBottom}>\r\n                            {\r\n                                vars.map((data,index)=>\r\n                                    <Variable key={index} color={data.color} style={{marginRight: '.25em'}}/>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </>\r\n                )\r\n            case 'category':\r\n                return (\r\n                    <>\r\n                        <div className={classes.description}>\r\n                            {data.description}\r\n                        </div>  \r\n                        <div className={classes.variablesContainerBottom}>\r\n                            {\r\n                                vars.map((data,index)=>\r\n                                    <Variable key={index} color={data.color} style={{marginRight: '.25em'}}/>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </>\r\n                )\r\n            case 'grouper':\r\n                //console.log(data)\r\n                return (\r\n                    <>\r\n                        <div className={classes.borderColor} style={{backgroundColor:data.color}}/>\r\n                        <div style={{postition: 'relative', width: '100%'}}>\r\n                            <div className={classes.borderColor}/>\r\n                        </div>\r\n                        <div className={classes.description}>\r\n                            {data.maker}\r\n                        </div>  \r\n                        <div className={classes.variablesContainerBottom}>\r\n                            {\r\n                                vars.map((data,index)=>\r\n                                    <Variable key={index} color={data.color} style={{marginRight: '.25em'}}/>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </>\r\n                )\r\n            default:\r\n                return (<React.Fragment/>);     \r\n        }\r\n    }\r\n\r\n    return ( \r\n        <div id={id} className={classes.container} style={{...style}}>\r\n            {variant==='sku'?                    \r\n            <span style={{marginRight:'1em'}}>\r\n                {\r\n                data.img?\r\n                        <Avatar\r\n                            alt=\"\"\r\n                            src={data.img}\r\n                            sx={{ width: 50, height: 50 }}\r\n                        />\r\n                :\r\n                    <Avatar\r\n                        sx={{ width: 50, height: 50, bgcolor: data.grouper.color }}\r\n                    >\r\n                        {data.name.toUpperCase().charAt(0)}\r\n                    </Avatar>\r\n                }\r\n            </span>\r\n            :\r\n            <></>}\r\n            <Grid container alignItems='center' spacing={3}>\r\n                <Grid item xs={12}>\r\n                    <span style={{textTransform:'uppercase'}}>\r\n                        {title}\r\n                    </span>\r\n                </Grid>\r\n                <Grid item xs={12} style={{paddingTop:'0'}}>\r\n                    {getVariantContent()}\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Item;","import React from 'react';\r\nimport ReactBezier from \"react-bezier\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport styled from 'styled-components';\r\n\r\nimport Item from './Item';\r\n\r\nconst WrapperDiv = styled.div`\r\n    ${props => props.classes}\r\n`;\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    box: {\r\n        width: '5em',\r\n        height: '5em',\r\n        backgroundColor: 'red'\r\n    },\r\n    chartRow: {\r\n        width: '25vw',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-around',\r\n        marginRight: '5em'\r\n    }\r\n}));\r\n\r\n/*\r\n    {\r\n        from: \"cube-1\",\r\n        to: \"cube-2\",\r\n        positions: {\r\n            start: {\r\n                side: \"bottom\",\r\n                indent: 20\r\n            },\r\n            end: {\r\n                side: \"top\",\r\n            },\r\n        },\r\n        style: \"red-line\",\r\n  }\r\n*/\r\n\r\nconst HorusChart = ({categories=[], subcategories=[], skus=[], brands=[]}) => {\r\n\r\n    const classes = useStyles();\r\n    const [settings, setSettings] = React.useState([]);\r\n\r\n    const getClasses = (data, b) => {\r\n        let lineClasses = {};\r\n\r\n        for(let i=0;i<data.length;i++){\r\n            lineClasses = {\r\n                ...lineClasses, \r\n                [\".subcategory-color-\"+(`${data[i].id}`.split('.').join(\"\"))]:{\r\n                    stroke:`${data[i].color}`,\r\n                    strokeWidth: '3px',\r\n                }\r\n            };\r\n        }\r\n        for(let i=0;i<b.length;i++){\r\n            lineClasses = {\r\n                ...lineClasses, \r\n                [\".brand-color-\"+(`${b[i].id}`.split('.').join(\"\"))]:{\r\n                    stroke:`${b[i].color}`,\r\n                    strokeWidth: '3px',\r\n                }\r\n            };\r\n        }\r\n        //console.log(lineClasses)\r\n        return lineClasses;\r\n    }\r\n\r\n    const getBrands = () => {\r\n        let brands = [];\r\n        let flag;\r\n        for(let i=0;i<subcategories.length;i++){\r\n            brands[i] = [];\r\n            for(let j=0;j<skus.length;j++){\r\n                flag = true;\r\n                for(let k=0;k<brands[i].length;k++){\r\n                    if(brands[i][k].brand.id===(skus[j].grouper.id+'new'+i+subcategories[i]))\r\n                        flag=false;\r\n                }\r\n                if(skus[j].subcategory.id===subcategories[i].id && flag)\r\n                    brands[i].push({brand:{...skus[j].grouper, oldId: skus[j].grouper.id, id:skus[j].grouper.id+'new'+i+subcategories[i]}, subcategory: subcategories[i]})\r\n            }\r\n        }\r\n        //console.log(brands)\r\n        return brands;\r\n    }\r\n\r\n    React.useEffect(()=>{\r\n        ////console.log(categories)\r\n        let newSettings = [];\r\n        for(let i=0;i<categories.length;i++){\r\n            for(let j=0;j<subcategories.length;j++){\r\n                if(`${categories[i].id}`===`${subcategories[j].category.id}`){\r\n                    newSettings.push(\r\n                        {\r\n                            from: \"category-\"+(`${categories[i].id}`.split('.').join(\"\")),\r\n                            to: \"subcategory-\"+(`${subcategories[j].id}`.split('.').join(\"\")),\r\n                            positions: {\r\n                                start: {\r\n                                side: \"right\",\r\n                                indent: 20\r\n                                },\r\n                                end: {\r\n                                    side: \"left\",\r\n                                },\r\n                            },\r\n                            style: \"subcategory-color-\"+(`${subcategories[j].id}`.split('.').join(\"\")),\r\n                        }\r\n                    )\r\n                }\r\n            }\r\n        }\r\n        //console.log(newSettings)\r\n        ////console.log('sub',subcategories)\r\n        ////console.log('skus',skus)\r\n        \r\n        // for(let i=0;i<subcategories.length;i++){\r\n        //     for(let j=0;j<skus.length;j++){\r\n        //         if(`${subcategories[i].id}`===`${skus[j].subcategory.id}`){\r\n        //             newSettings.push(\r\n        //                 {\r\n        //                     from: \"subcategory-\"+(`${subcategories[i].id}`.split('.').join(\"\")),\r\n        //                     to: \"sku-\"+(`${skus[j].id}`.split('.').join(\"\")),\r\n        //                     positions: {\r\n        //                         start: {\r\n        //                         side: \"right\",\r\n        //                         indent: 20\r\n        //                         },\r\n        //                         end: {\r\n        //                             side: \"left\",\r\n        //                         },\r\n        //                     },\r\n        //                     style: \"subcategory-color-\"+(`${subcategories[i].id}`.split('.').join(\"\")),\r\n        //                 }\r\n        //             )\r\n        //         }\r\n        //     }\r\n        // }\r\n\r\n        let b = [];\r\n        b = joinBrands();\r\n\r\n        for(let i=0;i<b.length;i++){\r\n            for(let j=0;j<skus.length;j++){\r\n                //console.log(b[i],skus[j])\r\n                if(`${b[i].brand.oldId}`===`${skus[j].grouper.id}` && b[i].subcategory.id===`${skus[j].subcategory.id}`){\r\n                    newSettings.push(\r\n                        {\r\n                            from: \"grouper-\"+(`${b[i].brand.id}`.split('.').join(\"\")),\r\n                            to: \"sku-\"+(`${skus[j].id}`.split('.').join(\"\")),\r\n                            positions: {\r\n                                start: {\r\n                                side: \"right\",\r\n                                indent: 20\r\n                                },\r\n                                end: {\r\n                                    side: \"left\",\r\n                                },\r\n                            },\r\n                            style: \"brand-color-\"+(`${b[i].brand.oldId}`.split('.').join(\"\")),\r\n                        }\r\n                    )\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n\r\n        for(let i=0;i<b.length;i++){\r\n            //for(let j=0;j<skus.length;j++){\r\n                // if(b[i].brand.id===skus[j].grouper.id)\r\n                //     console.log(b[i],skus[j])\r\n                //if(b[i].brand.id===skus[j].grouper.id){\r\n                    newSettings.push(\r\n                        {\r\n                            from: \"subcategory-\"+(`${b[i].subcategory.id}`.split('.').join(\"\")),\r\n                            to: \"grouper-\"+(`${b[i].brand.id}`.split('.').join(\"\")),\r\n                            positions: {\r\n                                start: {\r\n                                side: \"right\",\r\n                                indent: 20\r\n                                },\r\n                                end: {\r\n                                    side: \"left\",\r\n                                },\r\n                            },\r\n                            style: \"subcategory-color-\"+(`${b[i].subcategory.id}`.split('.').join(\"\")),\r\n                        }\r\n                    )\r\n                //}\r\n            //}\r\n        }\r\n\r\n\r\n\r\n\r\n        ////console.log(newSettings)\r\n        setSettings(newSettings);\r\n    },[categories, subcategories, skus])\r\n\r\n    const getItem = (data, type) => {\r\n        ////console.log(data.groupers)\r\n        return (\r\n            <Item \r\n                id={`${type}-${data.id}`}\r\n                //id={'cube-'+data.id}\r\n                className={classes.box}\r\n                title={data.name}\r\n                variant={type}\r\n                vars={data.variables}\r\n                groupers={data.groupers}\r\n                data={data}\r\n            />\r\n        )\r\n    }\r\n\r\n    const joinBrands = () => {\r\n        let b = getBrands();\r\n        let newBrands = [];\r\n        for(let i=0;i<b.length;i++){\r\n            newBrands = [...newBrands, ...b[i]];\r\n        }\r\n        //console.log(b)\r\n        return newBrands;\r\n    }\r\n\r\n    return (\r\n        <WrapperDiv style={{padding: '5em'}} classes={getClasses(subcategories, brands)}>\r\n            <ReactBezier settings={settings}>\r\n                <div style={{display:'flex'}}>\r\n                    <div className={classes.chartRow}>\r\n                        {\r\n                            categories.map((data, index)=>\r\n                                <span key={index}>\r\n                                    {getItem(data, 'category')}\r\n                                </span>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    <div className={classes.chartRow}>\r\n                        {\r\n                            subcategories.map((data, index)=>\r\n                                <span key={index}>\r\n                                    {getItem(data, 'subcategory')}\r\n                                </span>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    <div className={classes.chartRow}>\r\n                        {\r\n                            joinBrands().map((data, index)=>\r\n                                <span key={index}>\r\n                                    {getItem(data.brand, 'grouper')}\r\n                                </span>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    <div className={classes.chartRow}>\r\n                        {\r\n                            skus.map((data, index)=>\r\n                                <span key={index}>\r\n                                    {getItem(data, 'sku')}\r\n                                </span>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </ReactBezier>\r\n        </WrapperDiv>\r\n    )\r\n}\r\n\r\nexport default HorusChart;","import * as React from 'react';\r\nimport Paper from '@mui/material/Paper';\r\nimport Button from '@mui/material/Button';\r\nimport Modal from '@mui/material/Modal';\r\n\r\nconst style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 400,\r\n    boxShadow: 24,\r\n    p: 4,\r\n};\r\n\r\nexport default ({children, visible=true, onClose}) => {\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleOpen = () => setOpen(true);\r\n  const handleClose = () => setOpen(false);\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        open={visible}\r\n        onClose={onClose}\r\n        aria-labelledby=\"modal-modal-title\"\r\n        aria-describedby=\"modal-modal-description\"\r\n      >\r\n        <Paper sx={style}>\r\n          {\r\n              children\r\n          }\r\n        </Paper>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport Button from '@mui/material/Button';\r\nimport Stack from '@mui/material/Stack';\r\nimport Slide from '@mui/material/Slide';\r\nimport Divider from '@mui/material/Divider';\r\nimport Typography from '@mui/material/Typography';\r\nimport CheckboxGroup from '../CheckboxGroup';\r\n\r\nimport HorusChart from '../HorusChart';\r\n\r\nimport Fab from '@mui/material/Fab';  \r\nimport OpenWithIcon from '@mui/icons-material/OpenWith';\r\nimport HighlightOffIcon from '@mui/icons-material/HighlightOff';\r\n\r\nimport Modal from '../Modal';\r\nimport FilterAltIcon from '@mui/icons-material/FilterAlt';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \r\n  },\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    //marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  input: {\r\n    //marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 10,\r\n  },\r\n  button: {\r\n    position: props=>props.position,\r\n    bottom: props=>props.position==='fixed'?'1em':'auto',\r\n    right: props=>props.position==='fixed'?'1em':'auto',\r\n  },\r\n  close: {\r\n    position: 'absolute',\r\n    right: '0em',\r\n    top: '1em',\r\n    cursor: 'pointer'\r\n  }\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst datalist = [\r\n  {\r\n    title:'Marcas',\r\n    items: [\r\n      {color:'#eeefaf', name:'primer agrupador'},{color:'#e74c3c', name:'2 agrupador'},{color:'#af3eee', name:'3'},{color:'#3fddaa', name:'agrupador con texto largo'},{color:'#afffaa', name:'5'}\r\n    ]\r\n  }\r\n]\r\n\r\nexport default function FullScreenDialog({skus, categories, subcategories, position='fixed', children, brands=[], filters}) {\r\n  const classes = useStyles({position});\r\n  const [open, setOpen] = React.useState(false);\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [filter, setFilter] = React.useState(\r\n    {\r\n      skus:skus,\r\n      subcategories:subcategories,\r\n      groupers:null,\r\n      apply: false,\r\n      conf: {\r\n        skus:skus,\r\n        subcategories:subcategories,\r\n        groupers:null,\r\n      }\r\n    }\r\n  );\r\n\r\n  React.useEffect(()=>{\r\n    if(subcategories.length>0){\r\n      setFilter({...filter, subcategories, conf:{...filter.conf, subcategories:subcategories}})\r\n    }\r\n  },[subcategories])\r\n\r\n  React.useEffect(()=>{\r\n    //console.log('test')\r\n    //console.log('filter',{...filter, apply:true, subcategories, conf:{...filter.conf, subcategories:[...subcategories.map(d=>({...d, checked:filters.id===d.id?true:false}))]}})\r\n    //setFilter({...filter, apply:true, subcategories, conf:{...filter.conf, subcategories:[...subcategories.map(d=>({...d, checked:filters.id===d.id?true:false}))]}})\r\n    if(filters)\r\n      setFilter({...filter, apply:true, subcategories:[...subcategories.map(d=>({...d, checked:filters.id===d.id?true:false}))], conf:{...filter.conf, subcategories:[...subcategories.map(d=>({...d, checked:filters.id===d.id?true:false}))]}})\r\n  },[filters])\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const getSkus = () => {\r\n    //console.log(filter)\r\n    if(!filter.apply){\r\n      return skus;\r\n    }\r\n    let newSkus = [];\r\n    for(let j=0;j<filter.subcategories.length;j++){\r\n      for(let i=0;i<skus.length;i++){\r\n        //console.log(skus[i])\r\n        if(skus[i].subcategory.id===filter.subcategories[j].id && filter.subcategories[j].checked){\r\n          newSkus.push(skus[i])\r\n        }\r\n      }\r\n    }\r\n    return (newSkus);\r\n  }\r\n\r\n  const getSubcategories = () => {\r\n    if(!filter.apply){\r\n      return subcategories;\r\n    }\r\n    return filter.subcategories.filter(item=> item.checked);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n        <div className={classes.button}>\r\n          {children?\r\n            <div style={{width:'max-content'}} onClick={handleClickOpen}>\r\n              {children}\r\n            </div>\r\n            :\r\n            <Fab size=\"small\" color=\"primary\" aria-label=\"clean\" onClick={handleClickOpen}>\r\n              <OpenWithIcon />\r\n            </Fab>\r\n          }\r\n        </div>\r\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition} className={classes.root}>\r\n            <div style={{backgroundColor: '#1F1C36', width: '200%', height: '100vh', position: 'fixed'}}/>\r\n            <div style={{backgroundColor: '#1F1C36', height: '100vh'}}>\r\n              <div className={classes.close} edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n                <HighlightOffIcon />\r\n              </div>\r\n              <div>\r\n\r\n                {\r\n                  // <Drawer>\r\n                  //   <div style={{padding: '1em'}}>\r\n                  //     <span>\r\n                  //       <InputBase\r\n                  //         className={classes.input}\r\n                  //         placeholder=\"Buscar\"\r\n                  //         variant=\"outlined\"\r\n                  //       />\r\n                  //       <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\">\r\n                  //         <SearchIcon />\r\n                  //       </IconButton>\r\n                  //       <Divider />\r\n                  //     </span>\r\n                  //     {\r\n                  //       datalist.map((data, index)=>\r\n                  //         <span key={index}>\r\n                  //           <Typography variant='subtitle1'>\r\n                  //             {data.title}\r\n                  //           </Typography>\r\n                  //           <List style={{width:'15em'}}>\r\n                  //             {data.items.map((item, i) => (\r\n                  //               <ListItem button key={i}>\r\n                  //                 {\r\n                  //                   //<ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n                  //                 }\r\n                  //                 <ListItemIcon style={{minWidth:'2.5em'}}>\r\n                  //                   <div style={{width:'1.5em', height:'1.5em', borderRadius:'50%', backgroundColor:item.color}}/>\r\n                  //                 </ListItemIcon>\r\n                  //                 <ListItemText primary={item.name} />\r\n                  //               </ListItem>\r\n                  //             ))}\r\n                  //           </List>\r\n                  //           <Divider />\r\n                  //         </span>\r\n                  //       )\r\n                  //     }\r\n                  //   </div>\r\n                  // </Drawer>\r\n                }\r\n                {\r\n                  <Button onClick={()=>{setVisible(true)}}>\r\n                    <FilterAltIcon/>\r\n                  </Button>\r\n                }\r\n                {\r\n                  <Modal\r\n                    visible={visible}\r\n                    onClose={()=>{setVisible(false)}}\r\n                  >\r\n                    <div>\r\n\r\n                      <Typography variant='h5'>\r\n                        Filtros\r\n                      </Typography>\r\n\r\n                      <Divider style={{marginBottom:'.75em'}}/>\r\n                      <Typography>\r\n                        Subcategorias\r\n                      </Typography>\r\n                      {\r\n                        //console.log(subcategories)\r\n                      }\r\n                      <CheckboxGroup\r\n                        items={filter.conf.subcategories}\r\n                        title='some'\r\n                        name='subcategories'\r\n                        onChange={(e)=>{\r\n                          //console.log(e.target.value)\r\n                          setFilter({...filter, conf:{...filter.conf, subcategories: e.target.value}})\r\n                        }}\r\n                      />\r\n                      \r\n                      {/*<Divider style={{marginBottom:'.75em'}}/>\r\n                      <Typography>\r\n                        Skus\r\n                      </Typography>\r\n                      <CheckboxGroup\r\n                        items={skus}\r\n                        title='some'\r\n                        name='skus'\r\n                        onChange={(e)=>{\r\n                          setFilter({...filter, skus: e.target.value})\r\n                        }}\r\n                      />*/}\r\n\r\n                      <Divider style={{marginBottom:'.75em'}}/>\r\n                      <Stack spacing={2} direction=\"row\">\r\n                        <Button \r\n                          primary \r\n                          variant='contained' \r\n                          onClick={()=>{\r\n                            //console.log({...filter, apply:true, subcategories: filter.conf.subcategories})\r\n                            setFilter({...filter, apply:true, subcategories: filter.conf.subcategories});\r\n                            setVisible(false);\r\n                          }}\r\n                        >\r\n                          Filtrar\r\n                        </Button>\r\n                        <Button \r\n                          primary \r\n                          variant='outlined'\r\n                          onClick={()=>{\r\n                            setFilter({...filter, apply:false})\r\n                          }}\r\n                        >\r\n                          Limpiar filtros\r\n                        </Button>\r\n                      </Stack>\r\n                    </div>\r\n                  </Modal>\r\n                }\r\n                <HorusChart\r\n                  categories={[...categories]}\r\n                  subcategories={getSubcategories()}\r\n                  skus={getSkus()}\r\n                  brands={brands}\r\n                />\r\n              </div>\r\n            </div>\r\n        </Dialog>\r\n        {/*<Divider />*/}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { SketchPicker } from 'react-color';\r\nimport Typography from '@mui/material/Typography';\r\nimport Menu from '@mui/material/Menu';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nconst useStyles = makeStyles({\r\n    colorSquare: {\r\n        width: '1em',\r\n        height: '1em',\r\n        borderRadius: '2px',\r\n        marginRight: '.5em',\r\n        border: '2px solid #c4c4c4',\r\n    },\r\n    colorContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        cursor: 'pointer',\r\n        width: 'inherit'\r\n    },\r\n    colorPicker: {\r\n        position: 'absolute',\r\n        width: 'max-content',\r\n        zIndex: '10'\r\n    }\r\n});\r\n\r\nfunction useOutsideAlerter(ref, callback) {\r\n    useEffect(() => {\r\n        /**\r\n         * Alert if clicked on outside of element\r\n         */\r\n        function handleClickOutside(event) {\r\n            if (ref.current && !ref.current.contains(event.target)) {\r\n                //alert(\"You clicked outside of me!\");\r\n                if(callback)\r\n                    callback();\r\n            }\r\n        }\r\n\r\n        // Bind the event listener\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            // Unbind the event listener on clean up\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [ref]);\r\n}\r\n\r\nconst ColorPicker = ({ onChangeComplete, value='#ffffff', name='' }) => {\r\n\r\n    const classes = useStyles();\r\n    const [state, setState] = React.useState({background:'#ffffff'});\r\n    const [visible, setVisible] = React.useState(false);\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    \r\n    useEffect(() => {\r\n        setState({background:value});\r\n    },[value])\r\n\r\n    const wrapperRef = useRef(null);\r\n\r\n    const handleChangeComplete = (color) => {\r\n        if(onChangeComplete)\r\n            onChangeComplete({target: { name, value: color.hex}});\r\n        setState({ background: color.hex });\r\n    };\r\n\r\n    const handleVisible = (e) => {\r\n        setVisible(!visible);\r\n        setAnchorEl(e.currentTarget)\r\n    }\r\n    useOutsideAlerter(wrapperRef, handleVisible);\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className={classes.colorContainer} onClick={handleVisible}>\r\n                <div className={classes.colorSquare} style={{backgroundColor:state.background}}/>\r\n                <Typography variant=\"subtitle1\">{state.background.split('#')[1]}</Typography>\r\n            </div>\r\n            {/*visible?\r\n                <div className={classes.colorPicker} ref={wrapperRef}>\r\n                    <SketchPicker\r\n                        color={ state.background }\r\n                        onChangeComplete={ handleChangeComplete }\r\n                        onChange={handleChangeComplete}\r\n                        disableAlpha\r\n                    />\r\n                </div>\r\n                :\r\n                <React.Fragment/>*/\r\n            }\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                open={anchorEl}\r\n                onClose={()=>{\r\n                    setAnchorEl(null);\r\n                }}\r\n            >\r\n                <SketchPicker\r\n                    color={ state.background }\r\n                    onChangeComplete={ handleChangeComplete }\r\n                    onChange={ handleChangeComplete }\r\n                    disableAlpha\r\n                />\r\n            </Menu>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default ColorPicker;","import React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport ColorPicker from '../../../Components/ColorPicker';\r\nimport DeleteIcon from '@mui/icons-material/DeleteOutlined';\r\nimport EditIcon from '@mui/icons-material/EditOutlined';\r\nimport Stack from '@mui/material/Stack';\r\nimport Modal from '@mui/material/Modal';\r\nimport Paper from '@mui/material/Paper';\r\nimport ConfirmDialog from '../../../Components/ConfirmDialog';\r\n\r\nconst initialValue = {\r\n    name:'',\r\n    maker:'',\r\n    color:'#ffffff',\r\n    //presentation :''\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        //margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n        //marginTop: theme.spacing(2),\r\n    },\r\n    colorSquare: {\r\n        width: '1em',\r\n        height: '1em',\r\n        borderRadius: '2px',\r\n        marginRight: '.5em',\r\n        border: '2px solid #c4c4c4',\r\n    },\r\n    colorContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        width: 'inherit'\r\n    },\r\n    modal: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: '50%',\r\n        padding:'1em',\r\n        p: 4,\r\n    }\r\n}));\r\n\r\nconst randomColor = () => {\r\n    let color = Math.floor(Math.random()*16777215).toString(16);\r\n    return `#${color}`;\r\n}\r\n\r\nconst Step2 = ({ groupers=[], pushGrouper, updateGroupers, removeGrouper }) => {\r\n    const classes = useStyles();\r\n    const [grouper, setGrouper] = React.useState({\r\n        ...initialValue,\r\n        color: randomColor(),\r\n    })\r\n\r\n    const [editGrouper, setEditGrouper] = React.useState({});\r\n    const [openEditGrouper, setOpenEditGrouper] = React.useState(false);\r\n\r\n    const getGroupers = () => {\r\n        return (\r\n            groupers.map((data, index) => \r\n                <React.Fragment>\r\n                    <Grid item xs={4}>\r\n                        <Typography align=\"left\">\r\n                            {data.name}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={4}>\r\n                        <Typography align=\"left\">\r\n                            {data.maker}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={2}>\r\n                        <div className={classes.colorContainer}>\r\n                            <div className={classes.colorSquare} style={{backgroundColor:data.color}}/>\r\n                            {/*<Typography variant=\"subtitle1\" align=\"left\">{data.color.split('#')[1]}</Typography>*/}\r\n                        </div>\r\n                    </Grid>\r\n                    {/*<Grid item xs={2}>\r\n                        <Typography align=\"left\">\r\n                            {data.presentation }\r\n                        </Typography>\r\n                    </Grid>*/}\r\n                    <Grid item xs={1}>\r\n                        <div\r\n                            style={{height: '100%', display: 'flex', justifyContent: 'center', alignItems:'center'}}\r\n                        >\r\n                            <ConfirmDialog\r\n                                //message='Esta seguro de eliminar esta categoria?'\r\n                                title='Esta seguro de eliminar esta marca?'\r\n                                onOk={()=>{handleRemoveGrouper(index)}}\r\n                            >\r\n                                <DeleteIcon/>\r\n                            </ConfirmDialog>\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item xs={1}>\r\n                        <div\r\n                            style={{height: '100%', display: 'flex', justifyContent: 'center', alignItems:'center', cursor: 'pointer'}}\r\n                            onClick={()=>{\r\n                                setOpenEditGrouper(!openEditGrouper);\r\n                                setEditGrouper({...data, index})\r\n                            }}\r\n                        >\r\n                            <EditIcon/>\r\n                        </div>\r\n                    </Grid>\r\n                </React.Fragment>\r\n            )\r\n        )\r\n    }\r\n\r\n    const handleInputGrouper = (e) => {\r\n        const {name, value} = e.target;\r\n        setGrouper({...grouper, [name]:value});\r\n    }\r\n\r\n    const handleSaveGrouper = () => {\r\n        if(pushGrouper){\r\n            pushGrouper(grouper);\r\n        }   \r\n        setGrouper({...initialValue, color: randomColor()})\r\n    }\r\n\r\n    const handleRemoveGrouper = (index) => {\r\n        if(removeGrouper)\r\n            removeGrouper(index);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Grid container alignItems='center' spacing={3}>\r\n                <Grid item xs={12}/>\r\n                <Grid item xs={12}>\r\n                    <Typography\r\n                        variant='h6'\r\n                        align=\"left\"\r\n                    >\r\n                        Añade o elimina tus marcas\r\n                    </Typography>\r\n                    <Typography\r\n                        variant='caption'\r\n                        align=\"left\"\r\n                        display=\"block\"\r\n                    >\r\n                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos blanditiis tenetur\r\n                        unde suscipit, quam beatae rerum inventore consectetur, neque doloribus, cupiditate numquam\r\n                        dignissimos laborum fugiat deleniti? Eum quasi quidem quibusdam.\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}/>\r\n            </Grid>\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={4}>\r\n                    <Typography variant=\"subtitle1\" align=\"left\">Marca</Typography>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                    <Typography variant=\"subtitle1\" align=\"left\">Fabricante</Typography>\r\n                </Grid>\r\n                <Grid item xs={2}>\r\n                    <Typography variant=\"subtitle1\" align=\"left\">Color</Typography>\r\n                </Grid>\r\n                {/*<Grid item xs={3}>\r\n                    <Typography variant=\"subtitle1\" align=\"left\">Presentación</Typography>\r\n                </Grid>*/}\r\n                <Grid item xs={1}>\r\n                    \r\n                </Grid>\r\n                { getGroupers() }\r\n                <Grid item xs={4}>\r\n                    <TextField \r\n                        id=\"\" \r\n                        label=\"Marca\" \r\n                        variant=\"outlined\" \r\n                        fullWidth\r\n                        name='name'\r\n                        onChange={handleInputGrouper}\r\n                        value={grouper.name}\r\n                        required\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                    <TextField \r\n                        id=\"\" \r\n                        label=\"Fabricante\" \r\n                        variant=\"outlined\" \r\n                        fullWidth\r\n                        multiline\r\n                        name='maker'\r\n                        //rows={2}\r\n                        onChange={handleInputGrouper}\r\n                        value={grouper.maker}\r\n                        required\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={2}>\r\n                    <ColorPicker \r\n                        onChangeComplete={handleInputGrouper}\r\n                        name='color'\r\n                        value={grouper.color}\r\n                    />\r\n                </Grid>\r\n                {/*<Grid item xs={2}>\r\n                    <TextField \r\n                        id=\"\" \r\n                        label=\"Presentación\" \r\n                        variant=\"outlined\" \r\n                        fullWidth\r\n                        multiline\r\n                        name='presentation'\r\n                        //rows={2}\r\n                        onChange={handleInputGrouper}\r\n                        value={grouper.presentation}\r\n                        required\r\n                    />\r\n                </Grid>*/}\r\n                <Grid item xs={2}>\r\n                    <div style={{height: '100%', display: 'flex', justifyContent: 'center', alignItems:'center'}}>\r\n                        {/*<DeleteIcon/>*/}\r\n                        <Button\r\n                            variant='contained'\r\n                            color='primary'\r\n                            onClick={handleSaveGrouper}\r\n                            disabled={grouper.name==='' || grouper.maker===''}\r\n                        >\r\n                            Guardar\r\n                        </Button>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Modal\r\n                open={openEditGrouper}\r\n                onClose={()=>{setOpenEditGrouper(!openEditGrouper)}}\r\n            >\r\n                <Paper \r\n                    className={classes.modal}\r\n                    variant=\"outlined\"\r\n                >\r\n                    <Grid container spacing={3}>\r\n                        <Grid item xs={12}>\r\n                            <Typography\r\n                                variant='h6'\r\n                                align=\"left\"\r\n                            >\r\n                                Editar marca\r\n                            </Typography>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={5}>\r\n                            <TextField \r\n                                id=\"\" \r\n                                label=\"Marca\" \r\n                                variant=\"outlined\" \r\n                                fullWidth\r\n                                name='name'\r\n                                onChange={(e)=>{\r\n                                    setEditGrouper({...editGrouper, name:e.target.value})\r\n                                }}\r\n                                value={editGrouper.name}\r\n                                required\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={5}>\r\n                            <TextField \r\n                                id=\"\" \r\n                                label=\"Fabricante\" \r\n                                variant=\"outlined\" \r\n                                fullWidth\r\n                                multiline\r\n                                name='maker'\r\n                                //rows={2}\r\n                                onChange={(e)=>{\r\n                                    setEditGrouper({...editGrouper, maker:e.target.value})\r\n                                }}\r\n                                value={editGrouper.maker}\r\n                                required\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={2}>\r\n                            <ColorPicker \r\n                                onChangeComplete={(e)=>{\r\n                                    //console.log(e)\r\n                                    setEditGrouper({...editGrouper, color:e.target.value})\r\n                                }}\r\n                                name='color'\r\n                                value={editGrouper.color}\r\n                            />\r\n                        </Grid>\r\n                        {\r\n                            // <Grid item xs={4}>\r\n                            //     <TextField \r\n                            //         id=\"\" \r\n                            //         label=\"Presentación\" \r\n                            //         variant=\"outlined\" \r\n                            //         fullWidth\r\n                            //         multiline\r\n                            //         name='presentation'\r\n                            //         //rows={2}\r\n                            //         onChange={(e)=>{\r\n                            //             setEditGrouper({...editGrouper, presentation:e.target.value})\r\n                            //         }}\r\n                            //         value={editGrouper.presentation}\r\n                            //         required\r\n                            //     />\r\n                            // </Grid>\r\n                        }\r\n\r\n                        <Grid item xs={12}>\r\n                            <Stack spacing={2} direction=\"row\">\r\n                                <Button\r\n                                    variant='contained'\r\n                                    color='secondary'\r\n                                    onClick={()=>{setOpenEditGrouper(!openEditGrouper)}}\r\n                                >\r\n                                    Cancelar\r\n                                </Button>\r\n                                <Button\r\n                                    variant='contained'\r\n                                    color='primary'\r\n                                    onClick={()=>{\r\n                                        let aux = groupers.slice();\r\n                                        aux[editGrouper.index] = editGrouper;\r\n                                        if(updateGroupers){\r\n                                            //console.log(editGrouper)\r\n                                            updateGroupers(aux, editGrouper.index);\r\n                                        }\r\n                                        setOpenEditGrouper(!openEditGrouper)\r\n                                    }}\r\n                                    disabled={editGrouper.name==='' || editGrouper.maker===''}\r\n                                >\r\n                                    Actualizar\r\n                                </Button>\r\n                            </Stack>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n            </Modal>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Step2;","import React from 'react';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormLabel from '@mui/material/FormLabel';\r\n\r\nexport default function RadioButtonsGroup({items, title, onChange, name, value=null}) {\r\n    //const [value, setValue] = React.useState('female');\r\n\r\n    const handleChange = (event) => {\r\n        if(onChange)\r\n            onChange({target: {name, value:JSON.parse(event.target.value)}})\r\n        //setValue(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <FormControl component=\"fieldset\">\r\n            {title?<FormLabel component=\"legend\">{title}</FormLabel>:<React.Fragment/>}\r\n            <RadioGroup aria-label=\"gender\" name=\"gender1\" value={JSON.stringify(value)} onChange={handleChange}>\r\n                {items.map((data, index)=>\r\n                    <FormControlLabel key={index} value={JSON.stringify(data)} control={<Radio />} label={data.name} />\r\n                )}\r\n            </RadioGroup>\r\n        </FormControl>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    colorSquare: {\r\n        width: '.5em',\r\n        height: '1em',\r\n        borderRadius: '5px',\r\n        marginRight: '.25em',\r\n        border: '1px solid #c4c4c4',\r\n        flex: '0 0 auto'\r\n    },\r\n    checkboxContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        width: 'inherit'\r\n    },\r\n}));\r\n\r\nexport default function RadioButtonsGroup({items, title, onChange, name, value}) {\r\n    //const [value, setValue] = React.useState();\r\n    const classes = useStyles();\r\n    const handleChange = (event) => {\r\n        ////console.log(JSON.parse(event.target.value))\r\n        if(onChange)\r\n            onChange({target: {name, value:JSON.parse(event.target.value)}})\r\n        //setValue(event.target.value);\r\n    };\r\n    //console.log(value)\r\n    return (\r\n        <FormControl component=\"fieldset\">\r\n            {title?<FormLabel component=\"legend\">{title}</FormLabel>:<React.Fragment/>}\r\n            <RadioGroup aria-label=\"gender\" name=\"gender1\" value={JSON.stringify(value)} onChange={handleChange}>\r\n                {items.map((data, index)=>\r\n                    <FormControlLabel key={index} value={JSON.stringify(data)} control={<Radio />} label={<div style={{display: 'flex', alignItems: 'center'}}><div className={classes.colorSquare} style={{backgroundColor:data.color}}/>{data.name}</div>} />\r\n                )}\r\n            </RadioGroup>\r\n        </FormControl>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nimport DeleteIcon from '@mui/icons-material/DeleteOutlined';\r\nimport EditIcon from '@mui/icons-material/EditOutlined';\r\n\r\nimport ConfirmDialog from '../../../Components/ConfirmDialog';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\nimport RadioGroup from '../../../Components/RadioGroup';\r\nimport CheckboxGroup from '../../../Components/CheckboxGroup';\r\nimport RadioGropupGroupers from './RadioGropupGroupers';\r\nimport Stack from '@mui/material/Stack';\r\nimport Modal from '@mui/material/Modal';\r\nimport Paper from '@mui/material/Paper';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nconst initialValue = {\r\n    name:'',\r\n    content:'',\r\n    unit: null,\r\n    grouper:null,\r\n    subcategory:null,\r\n    presentation:'',\r\n    img:null\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n       // margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n        //marginTop: theme.spacing(2),\r\n    },\r\n    colorSquare: {\r\n        width: '1em',\r\n        height: '1em',\r\n        borderRadius: '2px',\r\n        marginRight: '.5em',\r\n        border: '2px solid #c4c4c4',\r\n    },\r\n    colorContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        width: 'inherit'\r\n    },\r\n    modal: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: '50%',\r\n        padding:'1em',\r\n        p: 4,\r\n    }\r\n}));\r\n\r\nconst Step2 = ({ groupers=[], pushSku, subcategories=[], skus=[], updateSkus, removeSku, onFilter }) => {\r\n\r\n    const classes = useStyles();\r\n    const [sku, setSku] = React.useState({\r\n        ...initialValue\r\n    })\r\n\r\n    const [filter, setFilter] = React.useState({\r\n        subcategory:null\r\n    })\r\n\r\n    const [openEditSku, setOpenEditSku] = React.useState(false);\r\n    const [editSku, setEditSku] = React.useState({});\r\n\r\n    React.useEffect(()=>{\r\n        ////console.log('useffect',groupers,skus)\r\n    },[skus])\r\n\r\n    const getSkus = (filterData) => {\r\n        let newSkus;\r\n        if(filterData){\r\n            newSkus = skus.filter(item=>(item.subcategory.id===filterData.id));\r\n        }\r\n        else{\r\n            newSkus = skus;\r\n        }\r\n        //console.log(newSkus)\r\n        return (\r\n            newSkus.map((data, index) => \r\n                <React.Fragment>\r\n                    <Grid item xs={3}>\r\n                        <div style={{display:'flex', alignItems:'center'}}>\r\n                            <span style={{marginRight:'1em'}}>\r\n                                {\r\n                                data.img?\r\n                                        <Avatar\r\n                                            alt=\"\"\r\n                                            src={data.img}\r\n                                            sx={{ width: 50, height: 50 }}\r\n                                        />\r\n                                :\r\n                                    <Avatar\r\n                                        sx={{ width: 50, height: 50, bgcolor: data.grouper.color }}\r\n                                    >\r\n                                        {data.name.toUpperCase().charAt(0)}\r\n                                    </Avatar>\r\n                                }\r\n                            </span>\r\n                            <Typography align='left'>\r\n                                {data.name}\r\n                            </Typography>\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item xs={2}>\r\n                        <Typography align='left'>\r\n                            {data.content} {data.unit} / {data.presentation}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                        {\r\n                            data.grouper?\r\n                                <div className={classes.colorContainer}>\r\n                                    <div className={classes.colorSquare} style={{backgroundColor:data.grouper.color}}/>\r\n                                    <Typography variant=\"subtitle1\" align=\"left\">{data.grouper.name}</Typography>\r\n                                </div>\r\n                            :\r\n                            <></>\r\n                        }\r\n                    </Grid>\r\n                    <Grid item xs={2}>\r\n                        <Typography align='left'>\r\n                            {data.subcategory.name}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={1}>\r\n                        <div\r\n                            style={{height: '100%', display: 'flex', justifyContent: 'center', alignItems:'center'}}\r\n                        >\r\n                            <ConfirmDialog\r\n                                message='Esta seguro de eliminar esta categoria?'\r\n                                title='Esta seguro de eliminar esta categoria?'\r\n                                onOk={()=>{handleRemoveSku(index)}}\r\n                            >\r\n                                <DeleteIcon/>\r\n                            </ConfirmDialog>\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item xs={1}>\r\n                        <div\r\n                            style={{height: '100%', display: 'flex', justifyContent: 'center', alignItems:'center', cursor:'pointer'}}\r\n                            onClick={()=>{\r\n                                setEditSku({...data, index})\r\n                                setOpenEditSku(!openEditSku);\r\n                            }}\r\n                        >\r\n                            <EditIcon/>\r\n                        </div>\r\n                    </Grid>\r\n                </React.Fragment>\r\n            )\r\n        )\r\n    }\r\n\r\n    const handleInputSku = (e) => {\r\n        const {name, value} = e.target;\r\n        ////console.log(value)\r\n        setSku({...sku, [name]:value});\r\n    }\r\n\r\n    const handleSaveSku = () => {\r\n        ////console.log(sku)\r\n\r\n        let cpy = JSON.stringify(sku);\r\n        if(pushSku){\r\n            let aux = JSON.parse(cpy);\r\n            let newSkus = [];\r\n                //console.log(aux.grouper)\r\n            for(let i=0;i<aux.grouper.length;i++){\r\n                if(aux.grouper[i].checked){\r\n                    newSkus.push({...aux, grouper:aux.grouper[i]});\r\n                }\r\n                //console.log(newSku)\r\n            }\r\n            pushSku(newSkus);\r\n            //pushSku();\r\n        }   \r\n        setSku({...initialValue})\r\n\r\n    }\r\n\r\n    const handleRemoveSku = (index) => {\r\n        if(removeSku)\r\n            removeSku(index);\r\n    }\r\n\r\n    const handleFilter = (e) => {\r\n        if(onFilter){\r\n            onFilter(JSON.parse(e.target.value))\r\n        }\r\n        setFilter({...filter, subcategory:e.target.value})\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Grid container alignItems='center' spacing={3}>\r\n                <Grid item xs={12}/>\r\n                <Grid item xs={12}>\r\n                    <Typography\r\n                        variant='h6'\r\n                        align='left'\r\n                    >\r\n                        Añade o elimina tus SKUS\r\n                    </Typography>\r\n                    <Typography\r\n                        variant='caption'\r\n                        align='left'\r\n                        display='block'\r\n                    >\r\n                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos blanditiis tenetur\r\n                        unde suscipit, quam beatae rerum inventore consectetur, neque doloribus, cupiditate numquam\r\n                        dignissimos laborum fugiat deleniti? Eum quasi quidem quibusdam.\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}/>\r\n            </Grid>\r\n            <Grid container spacing={3}>\r\n                <Grid item xs={3}>\r\n                    <Typography variant=\"subtitle1\" align=\"left\">Nombre</Typography>\r\n                </Grid>\r\n                <Grid item xs={2}>\r\n                    <Typography variant=\"subtitle1\" align=\"left\">Contenido</Typography>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                    <Typography variant=\"subtitle1\" align=\"left\">Marcas</Typography>\r\n                </Grid>\r\n                <Grid item xs={2}>\r\n                    <FormControl fullWidth>\r\n                        <InputLabel id=\"demo-simple-select-label\">Subcategorias</InputLabel>\r\n                        <Select\r\n                            //value={age}\r\n                            name={'subcategory'}\r\n                            label=\"Subcategoria\"\r\n                            value={filter.subcategory}\r\n                            onChange={handleFilter}\r\n                        >\r\n                            <MenuItem value={null}>Subcategorias</MenuItem>\r\n                            {\r\n                                subcategories.map((data, index)=>\r\n                                    <MenuItem value={JSON.stringify(data)} key={index}>{data.name}</MenuItem>\r\n                                )\r\n                            }\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n                <Grid item xs={1}>\r\n                    \r\n                </Grid>\r\n                { getSkus(JSON.parse(filter.subcategory)) }\r\n                <Grid item xs={3}>\r\n                    <TextField \r\n                        id=\"\" \r\n                        label=\"Nombre\" \r\n                        variant=\"outlined\" \r\n                        fullWidth\r\n                        multiline\r\n                        name='name'\r\n                        onChange={handleInputSku}\r\n                        value={sku.name}\r\n                        required\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={2}>\r\n                    <div style={{display:'flex', flexDirection:'column'}}>\r\n                        <TextField \r\n                            id=\"\" \r\n                            label=\"Contenido\" \r\n                            variant=\"outlined\" \r\n                            fullWidth\r\n                            multiline\r\n                            name='content'\r\n                            //rows={2}\r\n                            onChange={(e)=>{handleInputSku({target:{name:e.target.name, value:e.target.value.replace(/[^0-9]/g, '')}})}}\r\n                            value={sku.content}\r\n                            required\r\n                        />\r\n                        <div style={{marginTop:'.5em'}}>\r\n                            <FormControl fullWidth>\r\n                                <InputLabel id=\"demo-simple-select-label\">Unidad *</InputLabel>\r\n                                <Select\r\n                                    //value={age}\r\n                                    name={'unit'}\r\n                                    label=\"Unidad *\"\r\n                                    value={sku.unit}\r\n                                    onChange={handleInputSku}\r\n                                >\r\n                                    <MenuItem value={'Kg'}>Kg</MenuItem>\r\n                                    <MenuItem value={'Lib'}>Lib</MenuItem>\r\n                                    <MenuItem value={'Gr'}>Gr</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                        </div>\r\n                        <div style={{marginTop:'.5em'}}>\r\n                            <TextField \r\n                                id=\"\" \r\n                                label=\"Presentación\" \r\n                                variant=\"outlined\" \r\n                                fullWidth\r\n                                multiline\r\n                                name='presentation'\r\n                                //rows={2}\r\n                                onChange={handleInputSku}\r\n                                value={sku.presentation}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        {/*<div style={{marginTop:'.5em', display:'block'}}>\r\n                            <UploadImage\r\n                                title={'Subir imagen'}\r\n                                variant=\"outlined\"\r\n                                onChange={handleInputSku}\r\n                                name='img'\r\n                                value={sku.img}\r\n                            />\r\n                        </div>*/}\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                    <div style={{display:'flex'}}>\r\n                        {/*<RadioGropupGroupers\r\n                            name = 'grouper'\r\n                            items = {[...groupers]}\r\n                            onChange={handleInputSku}\r\n                            value={sku.grouper}\r\n                        />*/}\r\n                        <CheckboxGroup\r\n                            name = 'grouper'\r\n                            items = {[...groupers]}\r\n                            onChange={handleInputSku}\r\n                            value={sku.grouper}\r\n                        />\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={2} align='left'>\r\n                    <RadioGroup\r\n                        name = 'subcategory'\r\n                        items = {[...subcategories]}\r\n                        onChange={handleInputSku}\r\n                        value={sku.subcategory}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={2}>\r\n                    <div style={{height: '100%', display: 'flex', justifyContent: 'center', alignItems:'center'}}>\r\n                        {/*<DeleteIcon/>*/}\r\n                        <Button\r\n                            variant='contained'\r\n                            color='primary'\r\n                            onClick={handleSaveSku}\r\n                            disabled={sku.name==='' || sku.content==='' || sku.grouper===null || sku.subcategory===null || sku.unit===null || sku.presentation===''}\r\n                        >\r\n                            Guardar\r\n                        </Button>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n            <Modal\r\n                open={openEditSku}\r\n                onClose={()=>{setOpenEditSku(!openEditSku)}}\r\n            >\r\n                <Paper \r\n                    className={classes.modal}\r\n                    variant=\"outlined\"\r\n                >\r\n                    <Grid container spacing={3}>\r\n                        <Grid item xs={12}>\r\n                            <Typography\r\n                                variant='h6'\r\n                                align=\"left\"\r\n                            >\r\n                                Editar Sku\r\n                            </Typography>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={3}>\r\n                            <TextField \r\n                                id=\"\" \r\n                                label=\"Nombre\" \r\n                                variant=\"outlined\" \r\n                                fullWidth\r\n                                multiline\r\n                                name='name'\r\n                                onChange={(e)=>{\r\n                                    setEditSku({...editSku, name:e.target.value})\r\n                                }}\r\n                                value={editSku.name}\r\n                                required\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={2}>\r\n                            <div style={{display:'flex', flexDirection:'column'}}>\r\n                                <TextField \r\n                                    id=\"\" \r\n                                    label=\"Contenido\" \r\n                                    variant=\"outlined\" \r\n                                    fullWidth\r\n                                    multiline\r\n                                    name='content'\r\n                                    //rows={2}\r\n                                    onChange={(e)=>{\r\n                                        setEditSku({...editSku, [e.target.name]:e.target.value.replace(/[^0-9]/g, '')})\r\n                                    }}\r\n                                    value={editSku.content}\r\n                                    required\r\n                                />\r\n                                <div style={{marginTop:'.5em'}}>\r\n                                    <FormControl fullWidth>\r\n                                        <InputLabel id=\"demo-simple-select-label\">Unidad *</InputLabel>\r\n                                        <Select\r\n                                            //value={age}\r\n                                            name={'unit'}\r\n                                            label=\"Unidad *\"\r\n                                            value={editSku.unit}\r\n                                            onChange={(e)=>{\r\n                                                setEditSku({...editSku, [e.target.name]:e.target.value})\r\n                                            }}\r\n                                        >\r\n                                            <MenuItem value={'Kg'}>Kg</MenuItem>\r\n                                            <MenuItem value={'Lib'}>Lib</MenuItem>\r\n                                            <MenuItem value={'Gr'}>Gr</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </div>\r\n                                <div style={{marginTop:'.5em'}}>\r\n                                    <TextField \r\n                                        id=\"\"\r\n                                        label=\"Presentación\" \r\n                                        variant=\"outlined\" \r\n                                        fullWidth\r\n                                        multiline\r\n                                        name='presentation'\r\n                                        //rows={2}\r\n                                        onChange={(e)=>{\r\n                                            setEditSku({...editSku, [e.target.name]:e.target.value})\r\n                                        }}\r\n                                        value={editSku.presentation}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                {\r\n                                // <div style={{marginTop:'.5em', display:'block'}}>\r\n                                //     <UploadImage\r\n                                //         title={'Subir imagen'}\r\n                                //         variant=\"outlined\"\r\n                                //         name='img'\r\n                                //         onChange={(e)=>{\r\n                                //             setEditSku({...editSku, [e.target.name]:e.target.value})\r\n                                //         }}\r\n                                //         value={editSku.img}\r\n                                //     />\r\n                                // </div>\r\n                                }\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={4}>\r\n                            <div style={{display:'flex'}}>\r\n                                <RadioGropupGroupers\r\n                                    name = 'grouper'\r\n                                    items = {[...groupers.map(item=>({...item, checked:true}))]}\r\n                                    onChange={(e)=>{\r\n                                        setEditSku({...editSku, [e.target.name]:e.target.value})\r\n                                    }}\r\n                                    value={{...editSku.grouper}}\r\n                                />  \r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={3}>\r\n                            <RadioGroup\r\n                                name = 'subcategory'\r\n                                items = {[...subcategories]}\r\n                                onChange={(e)=>{\r\n                                    setEditSku({...editSku, [e.target.name]:e.target.value})\r\n                                }}\r\n                                value={editSku.subcategory}\r\n                            />\r\n                        </Grid>\r\n\r\n\r\n                        <Grid item xs={12}>\r\n                            <Stack spacing={2} direction=\"row\">\r\n                                <Button\r\n                                    variant='contained'\r\n                                    color='secondary'\r\n                                    onClick={()=>{\r\n                                        setOpenEditSku(!openEditSku)\r\n                                    }}\r\n                                >\r\n                                    Cancelar\r\n                                </Button>\r\n                                <Button\r\n                                    variant='contained'\r\n                                    color='primary'\r\n                                    onClick={()=>{\r\n                                        let aux = skus.slice();\r\n                                        aux[editSku.index] = editSku;\r\n                                        if(updateSkus){\r\n                                            //console.log(editGrouper)\r\n                                            updateSkus(aux, editSku.index);\r\n                                        }\r\n                                        setOpenEditSku(!openEditSku)\r\n                                    }}\r\n                                    disabled={editSku.name==='' || editSku.content==='' || editSku.grouper===null || editSku.subcategory===null || editSku.unit===null || editSku.presentation===''}\r\n                                >\r\n                                    Actualizar\r\n                                </Button>\r\n                            </Stack>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n            </Modal>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Step2;","import React from 'react';\r\nimport Draggable from 'react-draggable';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    dragabbleNode: {\r\n        width: '.75em',\r\n        height: '.75em',\r\n        cursor: 'move',\r\n        backgroundColor: props=>props.color,\r\n        borderRadius: '50%',\r\n        border: '2px solid #E6EBF1',//verde principal\r\n        TransitionEvent: 'all 1.5s ease',\r\n        zIndex: '1',\r\n        position: 'relative',\r\n        left: '-.5em',\r\n        \"&:hover\": {\r\n            boxShadow: '0px 0px 10px 0px rgba(43,153,130,1)',\r\n            backgroundColor: '#2B9982',\r\n        }\r\n    },\r\n}));\r\n\r\nconst Draggable2 = ({data, position=null, fixed=false, onStop, color='#fff'}) => {\r\n\r\n    const classes = useStyles({color: color});\r\n    const nodeRef = React.useRef(null);\r\n    const [conf, setConf] = React.useState({\r\n        position:{\r\n            x:0,\r\n            y:0,\r\n        }, \r\n        fixed: false\r\n    })\r\n\r\n    React.useEffect(()=>{\r\n        if(position)\r\n            setConf({\r\n                ...conf, \r\n                position: {\r\n                    x: position.x,\r\n                    y: position.y\r\n                },\r\n                fixed: true\r\n            })\r\n    },[position])\r\n\r\n    const eventLogger = (e) => {\r\n        ////console.log('Data: ', e);\r\n    };\r\n\r\n    const getTranslateValues = (translate) => {\r\n        let result = translate.split('translate(')[1].split(')')[0].split(', ');\r\n        try {\r\n            return {x: parseInt(result[0].split('px')[0]), y :parseInt(result[1].split('px')[0])};\r\n        } catch (error) {\r\n            console.error(result)\r\n            console.error(error)\r\n            return {x:0, y:0}\r\n        }\r\n    }\r\n\r\n    const handleDrag = (e) => {\r\n        ////console.log(getTranslateValues(nodeRef.current.style.transform));\r\n        setConf({\r\n            ...conf, \r\n            position: {\r\n                ...getTranslateValues(nodeRef.current.style.transform)\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleStart = (e) => {\r\n        /*//console.log( e)\r\n        setConf({\r\n            ...conf, \r\n            position: {\r\n                x: 0,\r\n                y: 10\r\n            }\r\n        })*/\r\n    }\r\n    \r\n    const handleEnd = (e) => {\r\n        /*//console.log( e)*/\r\n        if(onStop){\r\n            onStop(data)\r\n        }\r\n        if(!fixed)\r\n            setConf({\r\n                ...conf, \r\n                position: {\r\n                    x: 0,\r\n                    y: 0\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Draggable\r\n            //axis=\"x\"\r\n            handle=\".handle\"\r\n            defaultPosition={{x: 0, y: 0}}\r\n            position={conf.position}\r\n            //grid={[25, 25]}\r\n            scale={1}\r\n            onStart={eventLogger}\r\n            onDrag={handleDrag}\r\n            onStop={handleEnd}\r\n        >\r\n            <div className={classes.dragabbleNode} id={'end-'+data.id} ref={nodeRef}>\r\n                <div className=\"handle\">\r\n                    <span style={{visibility: 'hidden', width: 0, height: 0}}>.</span>\r\n                </div>\r\n            </div>\r\n        </Draggable>\r\n    );\r\n  \r\n}\r\n\r\nexport default Draggable2;","import React from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Draggable from '../Draggable';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    startNode: {\r\n        border: '1px solid #E6EBF1',\r\n        borderRadius: '2px',\r\n        padding: '.25em 1.5em',\r\n        width: '100%',\r\n        boxSizing: 'border-box',\r\n        transition: 'all .5s',\r\n        backgroundColor: '#fff',\r\n        zIndex: '1',\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n        color: '#727272',\r\n        display:'flex', \r\n        alignItems:'center'\r\n        //backgroundColor: '#fff'\r\n    },\r\n    startNodeContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginBottom: '.5em',\r\n        transition: 'all .5s'\r\n    },\r\n    borderColor: {\r\n        height: '100%',\r\n        width: '.5em',\r\n        backgroundColor: props => props.color, \r\n        position: 'absolute',\r\n        right: '0',\r\n        top: '0'\r\n    },    \r\n    title: {\r\n        textTransform: 'uppercase',\r\n        display: 'flex',\r\n        marginBottom: '.25em',\r\n        fontWeight: '600'\r\n    },\r\n    detail: {\r\n        fontSize: '.75em',\r\n        display: 'flex',\r\n        opacity: '.75'\r\n    },\r\n    startPoint: {\r\n        position: 'absolute',\r\n        right: '0',\r\n        top: '25%'\r\n    }\r\n}));\r\n\r\nfunction useOutsideAlerter(ref, callback) {\r\n    React.useEffect(() => {\r\n        /**\r\n         * Alert if clicked on outside of element\r\n         */\r\n        function handleClickOutside(event) {\r\n            if (ref.current && !ref.current.contains(event.target)) {\r\n                //alert(\"You clicked outside of me!\");\r\n                if(callback)\r\n                    callback();\r\n            }\r\n        }\r\n\r\n        // Bind the event listener\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            // Unbind the event listener on clean up\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [ref]);\r\n}\r\n\r\nconst StartBox = ({id, data, onStop}) => {\r\n\r\n    const wrapperRef = React.useRef(null);\r\n    const classes = useStyles({color: data.grouper.color});\r\n    const [focus, setFocus] = React.useState(false);\r\n\r\n    const hanldeFocus = () => {\r\n        setFocus(true);\r\n    }\r\n\r\n    const handleFocusOut = () => {\r\n        setFocus(false);\r\n    }\r\n\r\n    useOutsideAlerter(wrapperRef, handleFocusOut);\r\n//console.log(data)\r\n    return (\r\n        <div className={classes.startNodeContainer} ref={wrapperRef}>\r\n            <div \r\n                className={classes.startNode} \r\n                 \r\n                onClick={hanldeFocus}\r\n                style={{borderWidth: focus?'2px':'1px'}}\r\n            >\r\n                <div id={'startBox-'+id} className={classes.startPoint}/>\r\n                <div id={'start-'+id} className={classes.startPoint}/>\r\n                <div className={classes.borderColor}/>\r\n                               \r\n                <span style={{marginRight:'1em'}}>\r\n                    {\r\n                    data.img?\r\n                            <Avatar\r\n                                alt=\"\"\r\n                                src={data.img}\r\n                                sx={{ width: 50, height: 50 }}\r\n                            />\r\n                    :\r\n                        <Avatar\r\n                            sx={{ width: 50, height: 50, bgcolor: data.grouper.color }}\r\n                        >\r\n                            {data.name.toUpperCase().charAt(0)}\r\n                        </Avatar>\r\n                    }\r\n                </span>\r\n\r\n                <div className={classes.dataContainer}>\r\n                    <div className={classes.title}>\r\n                        {data.name}\r\n                    </div>\r\n                    <div style={{display: 'flex', alignItems: 'center'}}>\r\n                        {/*<div className={classes.grouperCircle}/> */}\r\n                        <span style={{textTransform: 'uppercase'}}>\r\n                            {data.grouper.name} / {data.grouper.maker}\r\n                        </span>\r\n                    </div>\r\n                    <div>\r\n                        {data.grouper.description}\r\n                    </div>\r\n                    <div className={classes.detail}>\r\n                        <span style={{textTransform: 'capitalize'}}>{data.grouper.presentation}</span> / <span style={{fontWeight: '600'}}>{data.content} {data.unit}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Draggable \r\n                data={data} \r\n                onStop={onStop}\r\n                color={data.grouper.color}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StartBox;","import React from 'react';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { makeStyles } from '@mui/styles';\r\nimport Tooltip from '@mui/material/Tooltip';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    endNodePoint: {\r\n        position: 'absolute',\r\n        width: '.75em',\r\n        height: '.75em',\r\n        border: '2px solid #E6EBF1',\r\n        backgroundColor: '#aaa',\r\n        borderRadius: '50%',\r\n        left: '-.75em',\r\n        top: 'calc(50% - .25em)',\r\n        zIndex: '1',\r\n        \"&:hover\": {\r\n            backgroundColor: '#C72C1C',\r\n            borderColor: '#C72C1C'\r\n        }\r\n    },\r\n    nodeContainer: {\r\n        position: 'absolute',\r\n        top: 'calc(50% - .15em)',\r\n        left: '.25em',\r\n    }\r\n}));\r\n\r\nconst DeleteNode = ({ onMouseEnter, onMouseLeave, related, relations, onEnterItem, onLeaveItem, onDelete, color='#fff' }) => {\r\n\r\n    const classes = useStyles({color: color});\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event) => {\r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n\r\n    const handleDelete = (data) => {\r\n        if(onDelete)\r\n            onDelete(data)\r\n        handleClose();\r\n    }\r\n\r\n    ////console.log('relations',relations)\r\n    return (\r\n        <div className={classes.nodeContainer}>\r\n            <Tooltip title=\"Delete\" placement=\"top\">\r\n                <div \r\n                    className={classes.endNodePoint} \r\n                    style={{display:related?'block':'none'}} \r\n                    onMouseEnter={onMouseEnter}\r\n                    onMouseLeave={onMouseLeave}\r\n                    onClick={handleClick}\r\n                />\r\n            </Tooltip>\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\r\n                open={open}\r\n                onClose={handleClose}\r\n                MenuListProps={{\r\n                    'aria-labelledby': 'basic-button',\r\n                }}\r\n            >\r\n                {\r\n                    relations.map((data, index)=>{\r\n                        ////console.log(data)\r\n                        return (\r\n                            <MenuItem \r\n                                key={index} \r\n                                onClick={()=>handleDelete(data)}\r\n                            >\r\n                                <spam\r\n                                    onMouseEnter={()=>{\r\n                                        onEnterItem(data)\r\n                                    }}\r\n                                    onMouseLeave={()=>{\r\n                                        onLeaveItem(data)\r\n                                    }}\r\n                                >\r\n                                    {data.from.name}\r\n                                </spam>\r\n                            </MenuItem>\r\n                        )\r\n                    })\r\n                }\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeleteNode;","import React from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nimport DeleteNode from './DeleteNode';\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    endNode: {\r\n        border: '1px solid #E6EBF1',\r\n        borderRadius: '2px',\r\n        padding: '.25em 1.5em',\r\n        marginBottom: '.5em',\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n        color: '#727272',\r\n        display:'flex', \r\n        alignItems:'center',\r\n        //backgroundColor: '#F0F0F0',\r\n        \"&:hover\": {\r\n            borderWidth: '2px'\r\n        },\r\n    },\r\n    magnet: {\r\n        position: 'absolute',\r\n        backgroundColor: 'transparent',\r\n        width: '100%',\r\n        height: '10em',\r\n        right: '0',\r\n        top: '0',\r\n        zIndex: '1',\r\n    },\r\n    borderColor: {\r\n        height: '100%',\r\n        width: '.5em',\r\n        backgroundColor: props => props.color, \r\n        position: 'absolute',\r\n        left: '0',\r\n        top: '0'\r\n    },\r\n    grouperCircle: {\r\n        width: '1em',\r\n        height: '1em',\r\n        backgroundColor: props => props.color,\r\n        borderRadius: '50%',\r\n        marginRight: '.5em',\r\n    },\r\n    title: {\r\n        textTransform: 'uppercase',\r\n        display: 'flex',\r\n        marginBottom: '.25em',\r\n        fontWeight: '600'\r\n    },\r\n    detail: {\r\n        fontSize: '.75em',\r\n        display: 'flex',\r\n        opacity: '.75'\r\n    }\r\n}));\r\n\r\nconst EndBox = ({data, id, onEnter, onExit, related=false, onEnterDelete, onExitDelete, relations=[], onEnterItem, onLeaveItem, onDelete}) => {\r\n\r\n    const classes = useStyles({color: data.grouper.color});\r\n    const [hover, setHover] = React.useState(false);\r\n\r\n    const handleEnter = () => {\r\n        setHover(true);\r\n        if(onEnter)\r\n            onEnter(data);\r\n    }\r\n\r\n    const handleExit = () => {\r\n        setHover(false);\r\n        if(onExit)\r\n            onExit(data);\r\n    }\r\n\r\n    const handleEnterDelete = () => {\r\n        if(onEnterDelete)\r\n            onEnterDelete(data);\r\n    }\r\n\r\n    const handleExitDelete = () => {\r\n        if(onExitDelete)\r\n            onExitDelete(data);\r\n    }\r\n\r\n    return (\r\n        <div id={'endBox-'+id}>\r\n            <DeleteNode \r\n                related={related}\r\n                onMouseEnter={handleEnterDelete}\r\n                onMouseLeave={handleExitDelete}\r\n                relations={relations}\r\n                onEnterItem={onEnterItem}\r\n                onLeaveItem={onLeaveItem}\r\n                onDelete={(data)=>onDelete(data)}\r\n                className={classes.container}\r\n                color={data.grouper.color}\r\n            />\r\n            <div \r\n                className={classes.endNode}\r\n                style={{backgroundColor: hover?'rgba(0,0,0,.05)':'#fff', borderWidth: hover?'2px':'1px'}}\r\n            >\r\n                \r\n            <div \r\n                className={classes.magnet} \r\n                onMouseEnter={handleEnter}\r\n                onMouseLeave={handleExit}\r\n            />\r\n                <div className={classes.borderColor}/>\r\n                               \r\n                <span style={{marginRight:'1em'}}>\r\n                    {\r\n                    data.img?\r\n                            <Avatar\r\n                                alt=\"\"\r\n                                src={data.img}\r\n                                sx={{ width: 50, height: 50 }}\r\n                            />\r\n                    :\r\n                        <Avatar\r\n                            sx={{ width: 50, height: 50, bgcolor: data.grouper.color }}\r\n                        >\r\n                            {data.name.toUpperCase().charAt(0)}\r\n                        </Avatar>\r\n                    }\r\n                </span>\r\n                <div className={classes.dataContainer}>\r\n                    <div className={classes.title}>\r\n                        {data.name}\r\n                    </div>\r\n                    <div style={{display: 'flex', alignItems: 'center'}}>\r\n                        {/*<div className={classes.grouperCircle}/> */}\r\n                        <span style={{textTransform: 'uppercase'}}>\r\n                            {data.grouper.name} / {data.grouper.maker}\r\n                        </span>\r\n                    </div>\r\n                    <div>\r\n                        {data.grouper.description}\r\n                    </div>\r\n                    <div className={classes.detail}>\r\n                        <span style={{textTransform: 'capitalize'}}>{data.grouper.presentation}</span> / <span style={{fontWeight: '600'}}>{data.content} {data.unit}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EndBox;","import React from 'react';\r\nimport { useScreenshot } from \"use-react-screenshot\";\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nimport Fab from '@mui/material/Fab';\r\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport DownloadIcon from '@mui/icons-material/Download';\r\n\r\nimport Alert from '../Alert';\r\n\r\n/*import copy from './copy.svg';\r\nimport save from './save.svg';*/\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    circularButon: {\r\n        margin: '.5em',\r\n        marginRight: '0',\r\n        padding: '1em',\r\n        width: '1em',\r\n        height: '1em',\r\n        borderRadius: '50%',\r\n        //border: '1px solid #000',\r\n        transition: 'all .25s',\r\n        backgroundColor: 'transparent',\r\n        cursor: 'pointer',\r\n        \"&:hover\": {\r\n            backgroundColor: '#ecf0f1',\r\n            borderColor: '#95a5a6'\r\n        }\r\n    },\r\n    alert: {\r\n        position:'fixed',\r\n        bottom: '1em',\r\n        right: '1em',\r\n    },\r\n    container: {\r\n        overflow: 'hidden',\r\n        position: 'relative'\r\n    },\r\n    capture: {\r\n        position: 'absolute',\r\n        backgroundColor: 'rgba(0,0,0,.5)',\r\n        left: 0,\r\n        top: 0, \r\n        width: '100%',\r\n        height: '100%',\r\n        zIndex: '100'\r\n    }\r\n}));\r\n\r\nconst ScreenShot = ({children, onCapture}) => {\r\n    const classes = useStyles();\r\n\r\n    const ref = React.createRef(null);\r\n    const [image, takeScreenShot] = useScreenshot();\r\n    const [loaded, setLoaded] = React.useState(true);\r\n    //const [alert, setAlert] = React.useState(false);\r\n    //const [shutter, setShutter] = React.useState(false);\r\n    const getImage = () => {\r\n        ////console.log(ref2.current.getContext('2d'))\r\n        takeScreenShot(ref.current);\r\n        //setAlert(true);\r\n        //setShutter(true);\r\n        // if(onCapture)\r\n        //     onCapture(image);\r\n        // setTimeout(()=>{\r\n        //     setAlert(false);\r\n        // },3000)\r\n        // setTimeout(()=>{\r\n        //     setShutter(false);\r\n        // }, 100)\r\n    };\r\n\r\n    function downloadBase64File( base64Data, fileName) {\r\n        const linkSource = `${base64Data}`;\r\n        const downloadLink = document.createElement(\"a\");\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName;\r\n        downloadLink.click();\r\n    }\r\n\r\n    const handleDownload = () => {\r\n        takeScreenShot(ref.current);\r\n        setLoaded(true);\r\n        //downloadBase64File(, image, 'ScreenShot');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div ref={ref} className={classes.container}>\r\n                {/*<div className={classes.capture} style={{display: shutter?'block':'none'}}></div>\r\n                <canvas ref={ref2} style={{width: '100%', height: '100vh', background: 'red', position: 'absolute'}}></canvas>*/}\r\n                {children}\r\n            </div>\r\n            <div style={{display: 'flex'}}>\r\n                {/*<img src={image} alt='' style={{width: '100%'}}/>\r\n                <div className={classes.circularButon}>\r\n                    <img src={copy} style={{width:'100%'}} alt='copy' />\r\n                </div>\r\n                <div onClick={()=>{}} className={classes.circularButon}>\r\n                    <img src={save} style={{width:'100%'}} alt='save' />\r\n                </div>\r\n                */}\r\n                <Fab size=\"small\" onClick={getImage} color=\"primary\" aria-label=\"clean\">\r\n                    <ContentCopyIcon />\r\n                </Fab>\r\n                <Fab size=\"small\" color=\"primary\" aria-label=\"clean\">\r\n                    <SaveIcon />\r\n                </Fab>\r\n                <Fab size=\"small\" onClick={handleDownload} color=\"primary\" aria-label=\"clean\">\r\n                    <DownloadIcon />\r\n                </Fab>\r\n                {/*<div className={classes.alert}>\r\n                    <Alert\r\n                        type={'success'}\r\n                        open={alert}\r\n                        text='Copiado'\r\n                    />\r\n                </div>*/}\r\n                {\r\n                    loaded &&\r\n                    <img \r\n                        src={image} \r\n                        alt='' \r\n                        onLoad={()=>{\r\n                            ////console.log(image)\r\n                            downloadBase64File(image,'screenshot.png');\r\n                            setLoaded(false);\r\n                            if(onCapture)\r\n                                onCapture(image);\r\n                        }} \r\n                        style={{width: '0em', height: '0em'}}\r\n                    />\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ScreenShot;","import React from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport StartBox from './StartBox';\r\nimport EndBox from './EndBox';\r\nimport ReactBezier from \"react-bezier\";\r\nimport ScreenShot from '../ScreenShot';\r\n\r\n//import ContextMenu from '../ContextMenu';\r\nimport Fab from '@mui/material/Fab';\r\nimport CleaningServicesIcon from '@mui/icons-material/CleaningServices';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        paddingTop: '1em',\r\n        paddingBottom: '1em'\r\n    },\r\n    col: {\r\n        width: '30%',\r\n        /*padding: '1em',\r\n        width: '30%',\r\n        boxShadow: '0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)',\r\n        transition: 'box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n        borderRadius: '4px',\r\n        margin: '.25em',*/\r\n        //overflow: 'hidden',\r\n    },\r\n    startNode: {\r\n        border: '1px solid #2B9982',\r\n        borderRadius: '.5em',\r\n        padding: '.5em 1.5em'\r\n    },\r\n    title: {\r\n        backgroundColor: '#2B9982',\r\n        top: '-1em',\r\n        left: '-1em',\r\n        position: 'relative',\r\n        width: 'calc( 100% + 1.5em)',\r\n        padding: '.25em',\r\n        color: '#fff',\r\n        borderRadius: '4px 4px 0 0'\r\n    },\r\n\r\n    '@global': {\r\n        \r\n    }\r\n\r\n});\r\n\r\nconst RelatableBoxes = ({dataFrom, dataTo, onUpdate, relations=[]}) => {\r\n\r\n    const classes = useStyles();\r\n    const [draggablesNodes, setDraggablesNodes] = React.useState([]);\r\n    const [settings, setSettings] = React.useState([]);\r\n    const [enter, setEnter] = React.useState({data:null, flag:false});\r\n    const ref = React.useRef();\r\n\r\n    React.useEffect(()=>{\r\n        let newArray = [];\r\n        for(let i=0;i<relations.length;i++){\r\n            let newData = {\r\n                from: \"startBox-\"+relations[i].from.id,\r\n                to: \"endBox-\"+relations[i].to.id,\r\n                toData: relations[i].to,\r\n                fromData: relations[i].from,\r\n                positions: {\r\n                    start: {\r\n                        side: \"right\",\r\n                        indent: 20\r\n                    },\r\n                    end: {\r\n                        side: \"left\",\r\n                    },\r\n                },\r\n                style: \"relationship-line \"+`stroke-color-${relations[i].from.grouper.name}-${relations[i].from.grouper.id}`.replace(/\\s/g, '_').split('.').join(\"\"),\r\n            }\r\n            newArray.push(newData);\r\n        }\r\n        //console.log([...settings, ...newArray])\r\n        setDraggablesNodes([...newArray]);\r\n        setSettings([...settings, ...newArray]);\r\n        //console.log([...settings, ...newArray],relations);\r\n    },[])\r\n\r\n    React.useEffect(()=>{\r\n        ////console.log(dataFrom,dataTo)\r\n        ////console.log(groupers)\r\n        ////console.log(classes)\r\n        let newSettings = [];\r\n        //let newDraggablesNodes = [];\r\n        \r\n        for(let i=0;i<dataFrom.length;i++){\r\n            newSettings.push(\r\n                {\r\n                    from: \"start-\"+dataFrom[i].id,\r\n                    to: \"end-\"+dataFrom[i].id,\r\n                    toData: dataFrom[i],\r\n                    fromData: dataFrom[i],\r\n                    positions: {\r\n                        start: {\r\n                            side: \"right\",\r\n                            indent: 20\r\n                        },\r\n                        end: {\r\n                            side: \"left\",\r\n                        },\r\n                    },\r\n                    style: `relationship-line-selected`,\r\n              }\r\n            )\r\n        }\r\n        //console.log(newSettings)\r\n        // if(settings.length===0){\r\n        //     for(let i=0;i<relations.length;i++){\r\n        //         let newData = {\r\n        //             from: \"startBox-\"+relations[i].from.id,\r\n        //             to: \"endBox-\"+relations[i].to.id,\r\n        //             toData: relations[i].to,\r\n        //             fromData: relations[i].from,\r\n        //             positions: {\r\n        //                 start: {\r\n        //                     side: \"right\",\r\n        //                     indent: 20\r\n        //                 },\r\n        //                 end: {\r\n        //                     side: \"left\",\r\n        //                 },\r\n        //             },\r\n        //             style: \"relationship-line \"+`stroke-color-${relations[i].from.grouper.name}-${relations[i].from.grouper.id}`.replace(/\\s/g, '_').split('.').join(\"\"),\r\n        //         }\r\n        //         newSettings.push(newData);\r\n        //     }\r\n        // }\r\n        //console.log(settings)\r\n        setSettings([...newSettings, ...draggablesNodes]);\r\n        if(settings.length!==0){\r\n            //console.log('updating')\r\n            handleUpdate([...newSettings, ...draggablesNodes]);\r\n        }\r\n        //console.log([...newSettings, ...draggablesNodes])\r\n        //console.log([...newSettings, ...draggablesNodes], relations, 'draggableNodes')\r\n    },[draggablesNodes]);\r\n\r\n    const handleUpdate = (data) => {\r\n        let aux = [];\r\n        for(let i=0;i<data.length;i++){\r\n            if(data[i].style!=='relationship-line-selected'){\r\n                aux.push({from:data[i].fromData, to:data[i].toData})\r\n            }\r\n        }\r\n        //console.log(aux)\r\n        if(onUpdate)\r\n            onUpdate(aux);\r\n    }\r\n\r\n    const handleEnter = (data) => {\r\n        setEnter({data, flag: true});\r\n    }\r\n\r\n    const handleExit = (data) => {\r\n        setEnter({data:null, flag:false});\r\n    }\r\n\r\n    const handleStop = (data) => {\r\n        ////console.log(data, enter)\r\n        let aux = draggablesNodes.slice();\r\n        let newData;\r\n        \r\n        // for(let i=0;i<aux.length;i++){\r\n        //     try {\r\n        //         if(aux[i].toData.id===enter.data.id && aux[i].fromData.id)\r\n        //             //console.log('from')\r\n        //     } catch (error) {\r\n        //     }\r\n        // }\r\n        \r\n        if(enter.flag){\r\n            newData = {\r\n                from: \"startBox-\"+data.id,\r\n                to: \"endBox-\"+enter.data.id,\r\n                toData: enter.data,\r\n                fromData: data,\r\n                positions: {\r\n                    start: {\r\n                        side: \"right\",\r\n                        indent: 20\r\n                    },\r\n                    end: {\r\n                        side: \"left\",\r\n                    },\r\n                },\r\n                style: \"relationship-line \"+`stroke-color-${data.grouper.name}-${data.grouper.id}`.replace(/\\s/g, '_').split('.').join(\"\"),\r\n            }\r\n            aux.push(newData);\r\n            ////console.log('newData')\r\n            setDraggablesNodes(aux);\r\n        }\r\n    }\r\n\r\n    const isRelated = (id) => {\r\n        //console.log(id)\r\n        for(let i=0;i<draggablesNodes.length;i++){\r\n            if(`${draggablesNodes[i].toData.id}`===`${id}`)\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    const changeLineColor = (data, newClass) => {\r\n        ////console.log(id)\r\n        let newSettings = settings.slice();\r\n        for(let i=0;i<newSettings.length;i++){\r\n            if(newSettings[i].toData.id===data.id)\r\n                newSettings[i] = {\r\n                    ...newSettings[i],\r\n                    style: newClass,\r\n                };\r\n        }\r\n        ////console.log(newSettings);\r\n        setSettings([...newSettings]);\r\n    }\r\n\r\n    const changeLineColorFrom = (from, to, newClass) => {\r\n        ////console.log('from',from)\r\n        let newSettings = settings.slice();\r\n        for(let i=0;i<newSettings.length;i++){\r\n            // if(newSettings[i].style!=='relationship-line-selected'){\r\n            //     newSettings[i] = {\r\n            //         ...newSettings[i],\r\n            //         style: defaultStyleClass,\r\n            //     };\r\n            //     //continue;\r\n            // }\r\n            if(newSettings[i].fromData.id===from.id && newSettings[i].toData.id===to.id){\r\n                newSettings[i] = {\r\n                    ...newSettings[i],\r\n                    style: newClass,\r\n                }; \r\n                //continue;\r\n            }\r\n        }\r\n        ////console.log(newSettings);\r\n        setSettings([...newSettings]);\r\n    }\r\n\r\n    const getRelations = (id) => {\r\n        let data = settings.slice();\r\n        let newData = [];\r\n        let response = [];\r\n        for(let i=0;i<data.length;i++){\r\n            if(data[i].toData.id===id && (data[i].style!=='relationship-line-selected'))\r\n                newData.push({from:data[i].fromData, to:data[i].toData});\r\n        }\r\n        \r\n        for(let i=0;i<newData.length;i++){\r\n            let flag = false;\r\n            for(let j=0;j<response.length;j++){\r\n                if(newData[i].from.id===response[j].from.id){\r\n                    flag = true;\r\n                }\r\n            }\r\n            if(!flag){\r\n                response.push(newData[i]);\r\n            }\r\n        }\r\n        ////console.log('data', data, id, newData)\r\n        return response;\r\n    }\r\n\r\n    const hanldeDelete = (data) => {\r\n        ////console.log(data)\r\n        let aux = [];\r\n        let newSettings = settings.slice();\r\n        for(let i=0;i<newSettings.length;i++){\r\n            if(!(newSettings[i].fromData.id===data.from.id && newSettings[i].toData.id===data.to.id)){\r\n                aux.push(newSettings[i])\r\n            }\r\n        }\r\n\r\n        let aux2 = [];\r\n        let newDraggables = draggablesNodes.slice();\r\n        for(let i=0;i<newDraggables.length;i++){\r\n            ////console.log(newDraggables);\r\n            if(!(newDraggables[i].fromData.id===data.from.id && newDraggables[i].toData.id===data.to.id)){\r\n                aux2.push(newDraggables[i])\r\n            }\r\n        }\r\n        \r\n\r\n        setDraggablesNodes([...aux2]);\r\n        setSettings([...aux]);\r\n    }\r\n\r\n    const cleanNodes = () => {\r\n        let aux = [];\r\n        let newSettings = settings.slice();\r\n        for(let i=0;i<newSettings.length;i++){\r\n            if(newSettings[i].style==='relationship-line'){\r\n                aux.push(newSettings[i])\r\n            }\r\n        }\r\n        \r\n        setDraggablesNodes([]);\r\n        setSettings([...aux]);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ScreenShot>\r\n                <div ref={ref}>\r\n                    {/*<ContextMenu\r\n                        ref={ref}\r\n                    />*/}\r\n                    {\r\n                       ////console.log(groupers,'groupers')\r\n                    }\r\n                    <ReactBezier settings={settings}>\r\n                        {/*<CustonCursor/>*/}\r\n                        <div className={classes.container}>\r\n                            <div className={classes.col} style={{marginRight:'30%'}}>\r\n                                {/*<div className={classes.title}>\r\n                                    SKUs\r\n                </div>*/}\r\n                                {\r\n                                    dataFrom.map((data, index)=> {\r\n                                        return (\r\n                                            <div key={index}>\r\n                                                <StartBox\r\n                                                    data={data}\r\n                                                    id={data.id}\r\n                                                    onStop={handleStop}\r\n                                                />\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            <div className={classes.col}>\r\n                                {/*<div className={classes.title}>\r\n                                    SKUs\r\n                            </div>*/}\r\n                                {\r\n                                    dataTo.map((data, index)=> {\r\n                                        return (\r\n                                            <div key={index} style={{position: 'relative'}}>\r\n                                                <EndBox\r\n                                                    data={data}\r\n                                                    id={data.id}\r\n                                                    onEnter={handleEnter}\r\n                                                    onExit={handleExit}\r\n                                                    related={isRelated(data.id)}\r\n\r\n                                                    onEnterDelete={()=>{/*changeLineColor(data, 'relationship-line-delete')*/}}\r\n                                                    onExitDelete={()=>{/*changeLineColor(data, 'relationship-line')*/}}//cambia el color a lines que llegan a un nodo final\r\n\r\n                                                    relations={getRelations(data.id)}\r\n\r\n                                                    onEnterItem={(data)=>changeLineColorFrom(data.from, data.to, 'relationship-line-delete')}\r\n                                                    onLeaveItem={(data)=>changeLineColorFrom(data.from, data.to, 'relationship-line '+`stroke-color-${data.from.grouper.name}-${data.from.grouper.id}`.replace(/\\s/g, '_').split('.').join(\"\"))}//cambia el color de la linea\r\n\r\n                                                    onDelete={(data)=>hanldeDelete(data)}\r\n                                                />\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </ReactBezier>\r\n                </div>\r\n            </ScreenShot>\r\n            <div style={{display: 'flex'}}>\r\n                <Fab size=\"small\" color=\"primary\" aria-label=\"clean\" onClick={cleanNodes}>\r\n                    <CleaningServicesIcon/>\r\n                </Fab>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RelatableBoxes;","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nexport default function BasicTabs({tabs=[], children, onChange}) {\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    if(onChange)\r\n        onChange(newValue)\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n        <Tabs value={value} onChange={handleChange} aria-label=\"basic tabs example\">\r\n          {\r\n              tabs.map((data, index)=>\r\n                <Tab key={index} label={data.name} {...a11yProps(index)} />\r\n              )\r\n          }\r\n        </Tabs>\r\n      </Box>\r\n      {\r\n          tabs.map((data, index)=>\r\n            <TabPanel key={index} value={value} index={index}>\r\n                {children}\r\n            </TabPanel>\r\n          )\r\n      }\r\n    </Box>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\nimport StepContent from '@mui/material/StepContent';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport Breadcrumbs from '@mui/material/Breadcrumbs';\r\nimport NavigateNextIcon from '@mui/icons-material/NavigateNext';\r\n\r\nimport DeleteIcon from '@mui/icons-material/DeleteOutlined';\r\nimport EditIcon from '@mui/icons-material/EditOutlined';\r\n\r\nimport ConfirmDialog from '../../Components/ConfirmDialog';\r\nimport FullScreenDialog from '../../Components/FullScreenDialog';\r\n\r\nimport Groupers from './Groupers';\r\nimport Skus from './Skus';\r\n\r\n//temporal\r\nimport RelatableBoxes from '../../Components/RelatableBoxes';\r\nimport styled from 'styled-components';\r\nimport Stack from '@mui/material/Stack';\r\nimport Modal from '@mui/material/Modal';\r\nimport ColorPicker from '../../Components/ColorPicker';\r\nimport Tabs from '../../Components/Tabs';\r\n\r\nconst WrapperDiv = styled.div`\r\n    ${props => props.classes}\r\n`;\r\n\r\nconst randomColor = () => {\r\n    let color = Math.floor(Math.random()*16777215).toString(16);\r\n    return `#${color}`;\r\n}\r\n\r\nconst getid = () => {\r\n    return `${(Math.random() * (1000 - 1) + 1)}`.split('.').join(\"\");\r\n}\r\n\r\nconst initialValues = {\r\n    category: {\r\n        name:'',\r\n        description:'',\r\n        variables:[],\r\n        id:getid()\r\n    },\r\n    subcategories: [],\r\n    groupers: [],\r\n    skus:[],\r\n    relations:[],\r\n}\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    root: {\r\n        minWidth: 275,\r\n    },\r\n    title:'SKU '+ {\r\n        fontSize: 14,\r\n    },\r\n    pos: {\r\n        marginBottom: 12,\r\n    },\r\n    button: {\r\n        //marginTop: theme.spacing(1),\r\n        //marginRight: theme.spacing(1), \r\n    },\r\n    actionsContainer: {\r\n        //marginBottom: theme.spacing(2),\r\n    },\r\n    resetContainer: {\r\n        //padding: theme.spacing(3),\r\n    },\r\n    modal: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: '50%',\r\n        padding:'1em',\r\n        p: 4,\r\n    },\r\n    colorSquare: {\r\n        width: '1em',\r\n        height: '1em',\r\n        borderRadius: '2px',\r\n        marginRight: '.5em',\r\n        border: '2px solid #c4c4c4',\r\n    },\r\n}));\r\n\r\nfunction getSteps() {\r\n    return ['Carga tus categorias y subcategorias', 'Carga tus marcas y SKU', 'Relaciona tus SKUs con los de la competencia'];\r\n}\r\n\r\nconst NewData = ({onUpdate, onFinish}) => {\r\n\r\n    const classes = useStyles();\r\n    const [activeStep, setActiveStep] = React.useState(0);\r\n\r\n    const [state, setState] = React.useState({\r\n        ...initialValues\r\n    });\r\n\r\n    const [subStep, setSubStep] = React.useState({\r\n        step: 0\r\n    })\r\n\r\n    const [category, setCategory] = React.useState({\r\n        name:'',\r\n        description:'',\r\n        variables:[],\r\n    });\r\n    \r\n    const [subcategory, setSubcategory] = React.useState({\r\n        name:'',\r\n        description:'',\r\n        category:null,\r\n        color:randomColor()\r\n    });\r\n\r\n    const [editSubcategory, setEditSubcategory] = React.useState({\r\n        name:'',\r\n        description:'',\r\n        category:null,\r\n    });\r\n\r\n    const [openEditSubcategory, setOpenEditSubcategory] = React.useState(false);\r\n\r\n    const [tab, setTab] = React.useState(0);\r\n    \r\n    const steps = getSteps();\r\n\r\n    const handleNext = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n    };\r\n\r\n    const handleBack = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n    };\r\n\r\n    const handleReset = () => {\r\n        setActiveStep(0);\r\n    };\r\n\r\n    const handleInputChangeCategory = (e) => {\r\n        const {name, value} = e.target;\r\n        setState({...state, category: {...state.category, [name]:value}});\r\n    }\r\n\r\n    const pushCategory = () => {\r\n        let data = category;\r\n        setState({\r\n            ...state,\r\n            categories:[...state.categories, {...data, id:state.categories.length}],\r\n        });\r\n        setCategory({name:'',description:''});\r\n    }\r\n\r\n    const handleInputChangeSubcategories = (e) => {\r\n        const {name, value} = e.target;\r\n        setSubcategory({...subcategory, [name]:value});\r\n    }\r\n\r\n    const pushSubcategory = () => {\r\n        let data = subcategory;\r\n        setState({\r\n            ...state,\r\n            subcategories:[...state.subcategories, {...data, id:getid(), category: state.category}],\r\n        });\r\n        setSubcategory({name:'',description:'', category:'', color:randomColor()});\r\n    }\r\n\r\n    const handleRemoveSubcategory = (index) => {\r\n        let subcategories = state.subcategories.slice();\r\n        subcategories.splice(index,1);\r\n        setState({\r\n            ...state,\r\n            subcategories:[...subcategories],\r\n        });\r\n    }\r\n\r\n    const handleRemoveGrouper = (index) => {\r\n        let groupers = state.groupers.slice();\r\n        groupers.splice(index,1);\r\n        setState({\r\n            ...state,\r\n            groupers:[...groupers],\r\n        });\r\n    }\r\n\r\n    const handleRemoveSku = (index) => {\r\n        let skus = state.skus.slice();\r\n        skus.splice(index,1);\r\n        setState({\r\n            ...state,\r\n            skus:[...skus],\r\n        });\r\n    }\r\n\r\n    const getSubcategories = () => {\r\n        return (\r\n            state.subcategories.map((data, index) => \r\n                <React.Fragment key={index}>\r\n                    <Grid item xs={4}>\r\n                        <Typography align=\"left\">\r\n                            {data.name}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={4}>\r\n                        <Typography align=\"left\">\r\n                            {data.description}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={2}>\r\n                        <div className={classes.colorSquare} style={{backgroundColor:data.color}}/>\r\n                    </Grid>\r\n                    <Grid item xs={1}>\r\n                        <div\r\n                            style={{height: '100%', display: 'flex', justifyContent: 'center', alignItems:'center'}}\r\n                        >\r\n                            <ConfirmDialog\r\n                                //message='Esta seguro de eliminar esta subcategoria?'\r\n                                title='Esta seguro de eliminar esta subcategoria?'\r\n                                onOk={()=>{handleRemoveSubcategory(index)}}\r\n                            >\r\n                                <DeleteIcon/>\r\n                            </ConfirmDialog>\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item xs={1}>\r\n                        <div\r\n                            style={{height: '100%', display: 'flex', justifyContent: 'center', alignItems:'center', cursor:'pointer'}}\r\n                            onClick={()=>{\r\n                                setOpenEditSubcategory(!openEditSubcategory);\r\n                                setEditSubcategory({...data, index})\r\n                            }}\r\n                        >\r\n                            <EditIcon/>\r\n                        </div>\r\n                    </Grid>\r\n                </React.Fragment>\r\n            )\r\n        )\r\n    }\r\n\r\n    const pushGrouper = (data) => {\r\n        setState({\r\n            ...state,\r\n            groupers:[...state.groupers, {...data, id: getid()}],\r\n        });\r\n    }\r\n\r\n    const pushSku = (data) => {\r\n        let newSkus = JSON.parse(JSON.stringify(data));\r\n        for(let i=0;i<newSkus.length;i++){\r\n            newSkus[i] = {...newSkus[i], id:getid()};\r\n            delete newSkus[i]['checked'];\r\n        }\r\n        newSkus = [...state.skus, ...newSkus];\r\n        \r\n        setState({\r\n            ...state,\r\n            skus:[...newSkus],\r\n        });\r\n        /*setState({\r\n            ...state,\r\n            skus:[...state.skus, {...data, id:getid()}],\r\n        });*/\r\n    }\r\n\r\n    const sortSubcategories = (base, sorted) => {\r\n        let aux = [];\r\n\r\n        ////console.log('sortSubcategories',base,sorted)\r\n        for(let j=0;j<base.length;j++){\r\n            for(let i=0;i<sorted.length;i++){\r\n                ////console.log(`${base[j].id}`+`${sorted[i].category}`)\r\n                if(`${base[j].id}`===`${sorted[i].category.id}`){\r\n                    aux.push(sorted[i])\r\n                }\r\n            }\r\n        }\r\n        \r\n        return aux;\r\n    }\r\n\r\n    const sortSkus = (base, sorted, brands) => {\r\n        let aux = [];\r\n        let skus = [];\r\n\r\n        //console.log(brands, sorted)\r\n        for(let j=0;j<brands.length;j++){\r\n            for(let i=0;i<sorted.length;i++){\r\n                if(`${brands[j].id}`===`${sorted[i].grouper.id}`){\r\n                    skus.push(sorted[i])\r\n                }\r\n            }\r\n        }\r\n\r\n        //console.log(skus)\r\n        for(let j=0;j<base.length;j++){\r\n            for(let i=0;i<skus.length;i++){\r\n                ////console.log(`${base[j].id}`+`${sorted[i].subcategory}`)\r\n                if(`${base[j].id}`===`${skus[i].subcategory.id}`){\r\n                    aux.push(skus[i])\r\n                }\r\n            }\r\n        }\r\n        ////console.log('aux', sorted, base)\r\n        return aux;\r\n    }\r\n\r\n    const getClasses = () => {\r\n        let lineClasses = {};\r\n\r\n        for(let i=0;i<state.groupers.length;i++){\r\n            lineClasses = {\r\n                ...lineClasses, \r\n                ['.'+(`stroke-color-${state.groupers[i].name}-${state.groupers[i].id}`.replace(/\\s/g, '_').split('.').join(\"\"))]:{\r\n                    stroke:`${state.groupers[i].color} !important`\r\n                }\r\n            };\r\n        }\r\n        ////console.log(JSON.stringify(lineClasses))\r\n        return lineClasses;\r\n    }\r\n\r\n    const handleUpdate = (data) => {\r\n        setState({...state, relations: data})\r\n    }\r\n\r\n    const skuFilter = (index) => {\r\n        let newSkus = [];\r\n        for(let i=0;i<state.skus.length;i++){\r\n            if(state.skus[i].subcategory.id===state.subcategories[index].id)\r\n                newSkus.push(state.skus[i])\r\n            //console.log(state.skus[i].subcategory.id, state.subcategories[index].id)\r\n        }\r\n        return (newSkus);\r\n    }\r\n\r\n    function getStepContent(step) {\r\n        switch (step) {\r\n            case 0:\r\n                return (\r\n                    <div>\r\n                        {   subStep.step===0?\r\n                            <React.Fragment>\r\n                                <Grid container alignItems='center' spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                        <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\r\n                                            <Typography color=\"primary\">\r\n                                                Categoria\r\n                                            </Typography>\r\n                                            <Typography color=\"inherit\">\r\n                                                Subategorias\r\n                                            </Typography>\r\n                                        </Breadcrumbs>\r\n                                    </Grid>\r\n                                    <Grid item xs={12}>\r\n                                        <Typography\r\n                                            variant='h6'\r\n                                            align=\"left\"\r\n                                        >\r\n                                            Añade los datos de la categoria\r\n                                        </Typography>\r\n                                        <Typography\r\n                                            variant='caption'\r\n                                            align=\"left\"\r\n                                            display=\"block\"\r\n                                        >\r\n                                            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos blanditiis tenetur\r\n                                            unde suscipit, quam beatae rerum inventore consectetur, neque doloribus, cupiditate numquam\r\n                                            dignissimos laborum fugiat deleniti? Eum quasi quidem quibusdam.\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12}/>\r\n                                </Grid>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item xs={4}>\r\n                                        <Typography variant=\"subtitle1\" align=\"left\">Nombre</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={8}>\r\n                                        <Typography variant=\"subtitle1\" align=\"left\">Descripcion</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={4}>\r\n                                        <TextField \r\n                                            id=\"\" \r\n                                            label=\"Nombre\" \r\n                                            variant=\"outlined\" \r\n                                            fullWidth\r\n                                            name='name'\r\n                                            onChange={handleInputChangeCategory}\r\n                                            value={state.category.name}\r\n                                            required\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item xs={8}>\r\n                                        <TextField \r\n                                            id=\"\" \r\n                                            label=\"Descripcion\" \r\n                                            variant=\"outlined\" \r\n                                            fullWidth\r\n                                            multiline\r\n                                            name='description'\r\n                                            //rows={2}\r\n                                            onChange={handleInputChangeCategory}\r\n                                            value={state.category.description}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                                <div\r\n                                    style={{\r\n                                        marginTop: '1em',\r\n                                        display: 'flex'\r\n                                    }}\r\n                                >  \r\n                                    <Stack spacing={2} direction=\"row\">\r\n                                        <Button\r\n                                            variant='contained'\r\n                                            disabled\r\n                                        >\r\n                                            Volver\r\n                                        </Button>\r\n                                        <Button\r\n                                            variant='contained'\r\n                                            color='primary'\r\n                                            onClick={\r\n                                                ()=>{\r\n                                                    setSubStep({step:1}); \r\n                                                    if(subStep.step===1){\r\n                                                        setActiveStep(1); \r\n                                                        setSubStep({step:0})\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            disabled={state.category.name===''}\r\n                                        >\r\n                                            Siguiente\r\n                                        </Button>\r\n                                    </Stack>\r\n                                </div>\r\n                            </React.Fragment>\r\n                            :\r\n                            <React.Fragment>\r\n                                <Grid container alignItems='center' spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                        <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\r\n                                            <Typography color=\"inherit\">\r\n                                                Categorias\r\n                                            </Typography>\r\n                                            <Typography color=\"primary\">\r\n                                                Subategorias\r\n                                            </Typography>\r\n                                        </Breadcrumbs>\r\n                                    </Grid>\r\n                                    <Grid item xs={12}>\r\n                                        <Typography\r\n                                            variant='h6'\r\n                                            align=\"left\"\r\n                                        >\r\n                                            Añade o elimina subcategorias para <span style={{textTransform:'capitalize'}}>{state.category.name}</span>\r\n                                        </Typography>\r\n                                        <Typography\r\n                                            variant='caption'\r\n                                            align=\"left\"\r\n                                            display=\"block\"\r\n                                        >\r\n                                            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos blanditiis tenetur\r\n                                            unde suscipit, quam beatae rerum inventore consectetur, neque doloribus, cupiditate numquam\r\n                                            dignissimos laborum fugiat deleniti? Eum quasi quidem quibusdam.\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12}/>\r\n                                </Grid>\r\n                                <Grid container spacing={3}>\r\n                                    <Grid item xs={4}>\r\n                                        <Typography variant=\"subtitle1\" align=\"left\">Nombre</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={4}>\r\n                                        <Typography variant=\"subtitle1\" align=\"left\">Descripcion</Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={4}>\r\n                                        <Typography variant=\"subtitle1\" align=\"left\">Color</Typography>\r\n                                    </Grid>\r\n                                    { getSubcategories() }\r\n                                    <Grid item xs={4}>\r\n                                        <TextField \r\n                                            id=\"\" \r\n                                            label=\"Nombre\" \r\n                                            variant=\"outlined\" \r\n                                            fullWidth\r\n                                            name='name'\r\n                                            onChange={handleInputChangeSubcategories}\r\n                                            value={subcategory.name}\r\n                                            required\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item xs={4}>\r\n                                        <TextField \r\n                                            id=\"\" \r\n                                            label=\"Descripcion\" \r\n                                            variant=\"outlined\" \r\n                                            fullWidth\r\n                                            multiline\r\n                                            name='description'\r\n                                            //rows={2}\r\n                                            onChange={handleInputChangeSubcategories}\r\n                                            value={subcategory.description}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item xs={2}>\r\n                                        <ColorPicker\r\n                                            onChangeComplete={handleInputChangeSubcategories}\r\n                                            name='color'\r\n                                            value={subcategory.color}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item xs={2}>\r\n                                        <div style={{height: '100%', display: 'flex', justifyContent: 'center', alignItems:'center'}}>\r\n                                            {/*<DeleteIcon/>*/}\r\n                                            <Button\r\n                                                variant='contained'\r\n                                                color='primary'\r\n                                                onClick={pushSubcategory}\r\n                                                disabled={subcategory.name===''}\r\n                                            >\r\n                                                Guardar\r\n                                            </Button>\r\n                                        </div>\r\n                                    </Grid>\r\n                                </Grid>\r\n                                \r\n                                <div\r\n                                    style={{\r\n                                        marginTop: '1em',\r\n                                        display: 'flex'\r\n                                    }}\r\n                                >\r\n                                    <Stack spacing={2} direction=\"row\">\r\n                                        <Button\r\n                                            variant='contained'\r\n                                            onClick={()=>{setSubStep({step:0})}}\r\n                                            disabled={subStep.step===0}\r\n                                        >\r\n                                            Volver\r\n                                        </Button>\r\n                                        <Button\r\n                                            variant='contained'\r\n                                            color='primary'\r\n                                            onClick={()=>{setSubStep({step:1}); if(subStep.step===1){setActiveStep(1); setSubStep({step:0})}}}\r\n                                            disabled={state.subcategories.length===0}\r\n                                        >\r\n                                            Siguiente\r\n                                        </Button>\r\n                                    </Stack>\r\n                                </div>\r\n                                <Modal\r\n                                    open={openEditSubcategory}\r\n                                    onClose={()=>{setOpenEditSubcategory(!openEditSubcategory)}}\r\n                                >\r\n                                    <Paper \r\n                                        className={classes.modal}\r\n                                        variant=\"outlined\"\r\n                                    >\r\n                                        <Grid container spacing={3}>\r\n                                            <Grid item xs={12}>\r\n                                                <Typography\r\n                                                    variant='h6'\r\n                                                    align=\"left\"\r\n                                                >\r\n                                                    Editar subcategoria\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid item xs={5}>\r\n                                                <TextField \r\n                                                    label=\"Nombre\" \r\n                                                    variant=\"outlined\" \r\n                                                    fullWidth\r\n                                                    name='name'\r\n                                                    onChange={(e)=>{\r\n                                                        setEditSubcategory({...editSubcategory, name:e.target.value})\r\n                                                    }}\r\n                                                    value={editSubcategory.name}\r\n                                                    required\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item xs={5}>\r\n                                                <TextField \r\n                                                    id=\"\" \r\n                                                    label=\"Descripcion\" \r\n                                                    variant=\"outlined\" \r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    name='description'\r\n                                                    //rows={2}\r\n                                                    onChange={(e)=>{\r\n                                                        setEditSubcategory({...editSubcategory, description:e.target.value})\r\n                                                    }}\r\n                                                    value={editSubcategory.description}\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item xs={2}>\r\n                                                <ColorPicker\r\n                                                    onChangeComplete={(e)=>{\r\n                                                        //console.log(e)\r\n                                                        setEditSubcategory({...editSubcategory, color:e.target.value})\r\n                                                    }}\r\n                                                    name='color'\r\n                                                    value={editSubcategory.color}\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item xs={12}>\r\n                                                <Stack spacing={2} direction=\"row\">\r\n                                                    <Button\r\n                                                        variant='contained'\r\n                                                        color='secondary'\r\n                                                        onClick={()=>{setOpenEditSubcategory(!openEditSubcategory)}}\r\n                                                    >\r\n                                                        Cancelar\r\n                                                    </Button>\r\n                                                    <Button\r\n                                                        variant='contained'\r\n                                                        color='primary'\r\n                                                        onClick={()=>{\r\n                                                            //updatesubcategories\r\n                                                            let aux = state.subcategories.slice();\r\n                                                            let auxSkus = state.skus.slice();\r\n                                                            aux[editSubcategory.index] = editSubcategory;\r\n                                                            setOpenEditSubcategory(!openEditSubcategory);\r\n                                                            //console.log(state.skus)\r\n                                                            for(let i=0;i<auxSkus.length;i++){\r\n                                                                if(auxSkus[i].subcategory.id===editSubcategory.id){\r\n                                                                    auxSkus[i].subcategory=editSubcategory;\r\n                                                                }\r\n                                                            }\r\n                                                            setState({...state, subcategories: aux, skus: auxSkus});\r\n                                                        }}\r\n                                                        disabled={editSubcategory.name===''}\r\n                                                    >\r\n                                                        Actualizar\r\n                                                    </Button>\r\n                                                </Stack>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Paper>\r\n                                </Modal>\r\n                            </React.Fragment>\r\n                        }\r\n                    </div>\r\n                );\r\n            case 1:\r\n                return (\r\n                    <React.Fragment>\r\n                        <Grid item xs={12}>\r\n                            <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\r\n                                <Typography color={subStep.step===0?\"primary\":\"inherit\"}>\r\n                                    Marcas\r\n                                </Typography>\r\n                                <Typography  color={subStep.step===1?\"primary\":\"inherit\"}>\r\n                                    SKUs\r\n                                </Typography>\r\n                            </Breadcrumbs>\r\n                        </Grid>\r\n                        {subStep.step===0?\r\n                            <>\r\n                                <Groupers\r\n                                    groupers={state.groupers} \r\n                                    pushGrouper={pushGrouper}\r\n                                    updateGroupers={(data)=>{\r\n                                        //console.log('upating groupers', data)\r\n                                        let newSkus = JSON.parse(JSON.stringify(state.skus));\r\n                                        for(let i=0;i<newSkus.length;i++){\r\n                                            for(let j=0;j<data.length;j++){\r\n                                                if(newSkus[i].grouper.id===data[j].id){\r\n                                                    newSkus[i].grouper=data[j];\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        setState({...state, groupers:data, skus:newSkus});\r\n                                    }}\r\n                                    removeGrouper={handleRemoveGrouper}\r\n                                />\r\n                                <div\r\n                                    style={{\r\n                                        marginTop: '1em',\r\n                                        display: 'flex'\r\n                                    }}\r\n                                >\r\n                                    <Stack spacing={2} direction=\"row\">\r\n                                        <Button\r\n                                            variant='contained'\r\n                                            onClick={()=>{setActiveStep(0); setSubStep({step:1})}}\r\n                                        >\r\n                                            Volver\r\n                                        </Button>\r\n                                        <Button\r\n                                            variant='contained'\r\n                                            color='primary'\r\n                                            onClick={()=>{setSubStep({step:1}); if(subStep.step===1)setActiveStep(2)}}\r\n                                            disabled={state.groupers.length===0}\r\n                                        >\r\n                                            Siguiente\r\n                                        </Button>\r\n                                    </Stack>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                <Skus\r\n                                    groupers={state.groupers} \r\n                                    subcategories={state.subcategories}\r\n                                    //groupers={[{color:'#eeefaf', name:'primer agrupador'},{color:'#25fafa', name:'2 agrupador'},{color:'#af3eee', name:'3'},{color:'#3fddaa', name:'agrupador con texto largo'},{color:'#afffaa', name:'5'}]}\r\n                                    //subcategories={[{name:'primero'},{name:'2'},{name:'uno con texto largo'},{name:'uno mas'}]}\r\n                                    pushSku={pushSku}\r\n                                    skus={state.skus}\r\n                                    updateSkus={(data)=>{\r\n                                        setState({...state, skus: data})\r\n                                    }}\r\n                                    removeSku={handleRemoveSku}\r\n                                    onFilter={(data)=>{\r\n                                        setState({...state, filter: data})\r\n                                    }}\r\n                                />\r\n                                <div\r\n                                    style={{\r\n                                        marginTop: '1em',\r\n                                        display: 'flex'\r\n                                    }}\r\n                                >\r\n                                    <Stack spacing={2} direction=\"row\">\r\n                                        <Button\r\n                                            variant='contained'\r\n                                            onClick={()=>{setSubStep({step:0})}}\r\n                                            disabled={subStep.step===0}\r\n                                        >\r\n                                            Volver\r\n                                        </Button>\r\n                                        <Button\r\n                                            variant='contained'\r\n                                            color='primary'\r\n                                            onClick={()=>{setSubStep({step:1}); if(subStep.step===1)setActiveStep(2)}}\r\n                                            disabled={state.skus.length===0}\r\n                                        >\r\n                                            Siguiente\r\n                                        </Button>\r\n                                    </Stack>\r\n                                </div>\r\n                            </>\r\n                        }\r\n                    </React.Fragment>\r\n                );\r\n            case 2:\r\n            return(\r\n                <>\r\n                    <Grid container alignItems='center' spacing={3}>\r\n                        <Grid item xs={12}>\r\n                            <Typography\r\n                                variant='h6'\r\n                                align='left'\r\n                            >\r\n                                Relaciona tus SKU con los de los competidores\r\n                            </Typography>\r\n                            <Typography\r\n                                variant='caption'\r\n                                align='left'\r\n                                display='block'\r\n                                color='#aaa'\r\n                            >\r\n                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos blanditiis tenetur\r\n                                unde suscipit, quam beatae rerum inventore consectetur, neque doloribus, cupiditate numquam\r\n                                dignissimos laborum fugiat deleniti? Eum quasi quidem quibusdam.\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            {\r\n                                // <RelatableBoxes\r\n                                //     dataFrom = {[...state.skus]}\r\n                                //     dataTo = {[...state.skus]}\r\n                                //     lineClasses={getClasses()}\r\n                                //     onUpdate={handleUpdate}\r\n                                //     relations={state.relations}\r\n                                // />\r\n                            }\r\n                            <Tabs\r\n                                tabs={state.subcategories}\r\n                                onChange={(index)=>{\r\n                                    //skuFilter(index);\r\n                                    setTab(index);\r\n                                }}\r\n                            >\r\n                                <RelatableBoxes\r\n                                     dataFrom = {[...skuFilter(tab)]}\r\n                                     dataTo = {[...skuFilter(tab)]}\r\n                                     lineClasses={getClasses()}\r\n                                     onUpdate={handleUpdate}\r\n                                     relations={state.relations}\r\n                                 />\r\n                            </Tabs>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <div\r\n                        style={{\r\n                            marginTop: '1em'\r\n                        }}\r\n                    >\r\n                        <Stack spacing={2} direction=\"row\">\r\n                            <Button\r\n                                variant='contained'\r\n                                onClick={()=>{setActiveStep(1)}}\r\n                                disabled={subStep.step===0}\r\n                            >\r\n                                Volver\r\n                            </Button>\r\n                            <Button\r\n                                variant='contained'\r\n                                color='primary'\r\n                                onClick={()=>{\r\n                                    setActiveStep(3)\r\n                                    onUpdate(state);\r\n                                    onFinish();\r\n                                }}\r\n                            >\r\n                                Guardar categoria\r\n                            </Button>\r\n                        </Stack>\r\n                    </div>\r\n                </>\r\n            );\r\n            {\r\n            // case 3:\r\n            //     return (\r\n            //         <>\r\n            //             <Grid container alignItems='center' spacing={3}>\r\n            //                 <Grid item xs={12}>\r\n            //                     <Typography\r\n            //                         variant='h6'\r\n            //                         align='left'\r\n            //                     >\r\n            //                         Categoria {state.category.name} creada con exito\r\n            //                     </Typography>\r\n            //                 </Grid>\r\n            //                 <Grid item xs={12}>\r\n            //                     <Paper \r\n            //                         variant=\"outlined\"\r\n            //                         style={{padding:'1em'}}\r\n            //                     >\r\n            //                         <div>\r\n                                        \r\n            //                         <Grid container alignItems='center' spacing={3} alignItems=\"stretch\">\r\n            //                             <Grid item xs={12}>\r\n            //                                 <Typography \r\n            //                                     variant='subtitle1'\r\n            //                                     align='left'\r\n            //                                     style={{textTransform:'capitalize'}}\r\n            //                                 >\r\n            //                                     {state.category.name}\r\n            //                                 </Typography>\r\n            //                                 <Typography variant='body2' align='left' display='flex' alignItems='center'>\r\n            //                                     {state.category.description}\r\n            //                                 </Typography>\r\n            //                             </Grid>\r\n            //                             <Grid item xs={6} style={{display: 'flex'}}>\r\n            //                                 <Paper \r\n            //                                     variant=\"outlined\"\r\n            //                                     style={{padding:'1em', width: '100%'}}\r\n            //                                 >\r\n            //                                     <Typography \r\n            //                                         variant='subtitle2'\r\n            //                                         align='left'\r\n            //                                         style={{textTransform:'capitalize'}}\r\n            //                                     >\r\n            //                                         Marcas\r\n            //                                     </Typography>\r\n            //                                     <Divider light style={{marginBottom: '.5em'}}/>\r\n            //                                     <div>\r\n            //                                         {\r\n            //                                             state.groupers.map((data, index)=>{\r\n            //                                                 return (\r\n            //                                                     <Typography key={index} variant='body2' align='left' display='flex' alignItems='center'>\r\n            //                                                         <div style={{width:'1em', height:'1em', backgroundColor:data.color, marginRight:'.5em', borderRadius: '50%'}}/>{data.name}\r\n            //                                                     </Typography>\r\n            //                                                 )\r\n            //                                             })\r\n            //                                         }\r\n            //                                     </div>\r\n            //                                 </Paper>\r\n            //                             </Grid>\r\n            //                             <Grid item xs={6} style={{display: 'flex'}}>\r\n            //                                 <Paper \r\n            //                                     variant=\"outlined\"\r\n            //                                     style={{padding:'1em', width: '100%'}}\r\n            //                                 >\r\n            //                                     <Typography \r\n            //                                         variant='subtitle2'\r\n            //                                         align='left'\r\n            //                                         style={{textTransform:'capitalize'}}\r\n            //                                     >\r\n            //                                         SKUs\r\n            //                                     </Typography>\r\n            //                                     <Divider light style={{marginBottom: '.5em'}}/>\r\n            //                                     <div>\r\n            //                                         {\r\n            //                                             state.skus.map((data, index)=>{\r\n            //                                                 return (\r\n            //                                                     <Typography key={index} variant='body2' align='left'>\r\n            //                                                         {data.name}\r\n            //                                                     </Typography>\r\n            //                                                 )\r\n            //                                             })\r\n            //                                         }\r\n            //                                     </div>\r\n            //                                 </Paper>\r\n            //                             </Grid>\r\n            //                         </Grid>\r\n            //                         </div>\r\n            //                     </Paper>\r\n            //                 </Grid>\r\n            //             </Grid>\r\n            //             <div\r\n            //                 style={{\r\n            //                     marginTop: '1em'\r\n            //                 }}\r\n            //             >\r\n            //                 <Stack spacing={2} direction=\"row\">\r\n            //                     <Button\r\n            //                         variant='contained'\r\n            //                         onClick={()=>{}}\r\n            //                     >\r\n            //                         Agregar otra categoria\r\n            //                     </Button>\r\n            //                     <Button\r\n            //                         variant='contained'\r\n            //                         color='primary'\r\n            //                         onClick={()=>{\r\n            //                             if(onFinish){\r\n            //                                 onFinish();\r\n            //                             }\r\n            //                         }}\r\n            //                     >\r\n            //                         Finalizar\r\n            //                     </Button>\r\n            //                 </Stack>\r\n            //             </div>\r\n            //         </>\r\n            //     );\r\n            }\r\n            default:\r\n                return 'Unknown step';\r\n        }\r\n    }\r\n\r\n    return (\r\n        <WrapperDiv classes={getClasses()}>\r\n            <Grid container alignItems='flex-start' spacing={3}>\r\n                <Grid item xs={12}>\r\n                    <div className={classes.root}>\r\n                        <Stepper activeStep={activeStep} orientation=\"horizontal\" alternativeLabel>\r\n                            {steps.map((label, index) => (\r\n                            <Step key={label}>\r\n                                <StepLabel>{label}</StepLabel>\r\n                                <StepContent>\r\n                                    <div className={classes.actionsContainer}>\r\n                                        <div>\r\n                                            {\r\n                                            // <Button\r\n                                            //     disabled={activeStep === 0}\r\n                                            //     onClick={handleBack}\r\n                                            //     className={classes.button}\r\n                                            // >\r\n                                            //     Back\r\n                                            // </Button>\r\n                                            // <Button\r\n                                            //     variant=\"contained\"\r\n                                            //     color=\"primary\"\r\n                                            //     onClick={handleNext}\r\n                                            //     className={classes.button}\r\n                                            // >\r\n                                            //     {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\r\n                                            // </Button>\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                </StepContent>\r\n                            </Step>\r\n                            ))}\r\n                        </Stepper>\r\n                        {\r\n                            // activeStep === steps.length && (\r\n                            // <Paper square elevation={0} className={classes.resetContainer}>\r\n                            //     <Typography>All steps completed - you&apos;re finished</Typography>\r\n                            //     <Button onClick={handleReset} className={classes.button}>\r\n                            //         Reset\r\n                            //     </Button>\r\n                            // </Paper>\r\n                            // )\r\n                        }\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Paper \r\n                        variant=\"outlined\"\r\n                        style={{padding:'1em'}}\r\n                    >\r\n                        <Grid container alignItems='center' spacing={3}>\r\n                            <Grid item xs={12}>\r\n                                <LinearProgress variant=\"determinate\" value={activeStep*33.333} />\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <div>\r\n                                    {\r\n                                        getStepContent(activeStep)\r\n                                    }\r\n                                    {\r\n                                        ////console.log(state.groupers,'groupers')\r\n                                    }\r\n                                    {\r\n                                        activeStep<3?\r\n                                            <FullScreenDialog\r\n                                                skus={sortSkus( state.subcategories, state.skus, state.groupers)}\r\n                                                categories={[state.category]}\r\n                                                subcategories={sortSubcategories( [state.category], state.subcategories)}\r\n                                                brands={state.groupers}\r\n                                                filters={\r\n                                                    state.filter\r\n                                                }\r\n                                            />\r\n                                        :\r\n                                            <></>\r\n                                    }\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n        </WrapperDiv>\r\n    )\r\n}\r\n\r\nexport default NewData;","import React from 'react';\r\n\r\nimport Divider from '@mui/material/Divider';\r\nimport Grid from '@mui/material/Grid';\r\nimport Typography from '@mui/material/Typography';\r\nimport Paper from '@mui/material/Paper';\r\nimport Collapse from '@mui/material/Collapse';\r\nimport ExpandLess from '@mui/icons-material/ExpandLess';\r\nimport ExpandMore from '@mui/icons-material/ExpandMore';\r\nimport Button from '@mui/material/Button';\r\nimport FullScreenDialog from '../../../Components/FullScreenDialog';\r\n\r\nconst Category = ({data}) => {\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClick = () => {\r\n        //console.log('test')\r\n        setOpen(!open);\r\n    }\r\n \r\n    const sortSkus = (base, sorted, brands) => {\r\n        let aux = [];\r\n        let skus = [];\r\n\r\n        //console.log(brands, sorted)\r\n        for(let j=0;j<brands.length;j++){\r\n            for(let i=0;i<sorted.length;i++){\r\n                if(`${brands[j].id}`===`${sorted[i].grouper.id}`){\r\n                    skus.push(sorted[i])\r\n                }\r\n            }\r\n        }\r\n\r\n        //console.log(skus)\r\n        for(let j=0;j<base.length;j++){\r\n            for(let i=0;i<skus.length;i++){\r\n                ////console.log(`${base[j].id}`+`${sorted[i].subcategory}`)\r\n                if(`${base[j].id}`===`${skus[i].subcategory.id}`){\r\n                    aux.push(skus[i])\r\n                }\r\n            }\r\n        }\r\n        ////console.log('aux', sorted, base)\r\n        return aux;\r\n    }\r\n\r\n    const sortSubcategories = (base, sorted) => {\r\n        let aux = [];\r\n\r\n        ////console.log('sortSubcategories',base,sorted)\r\n        for(let j=0;j<base.length;j++){\r\n            for(let i=0;i<sorted.length;i++){\r\n                ////console.log(`${base[j].id}`+`${sorted[i].category}`)\r\n                if(`${base[j].id}`===`${sorted[i].category.id}`){\r\n                    aux.push(sorted[i])\r\n                }\r\n            }\r\n        }\r\n        \r\n        return aux;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Grid container alignItems='center' spacing={3}>\r\n                <Grid item xs={12}>\r\n                    <Paper \r\n                        variant=\"outlined\"\r\n                        style={{padding:'1em'}}\r\n                    >\r\n                        <div>\r\n                            <Grid container alignItems='center' spacing={1} alignItems=\"stretch\">\r\n                                <Grid item xs={12}>\r\n                                    <Typography \r\n                                        variant='subtitle1'\r\n                                        align='left'\r\n                                        style={{textTransform:'capitalize'}}\r\n                                    >\r\n                                        {data.category.name}\r\n                                    </Typography>\r\n                                    <Typography variant='body2' align='left' display='flex' alignItems='center'>\r\n                                        {data.category.description}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={12} align='left'>\r\n                                    <FullScreenDialog\r\n                                        skus={sortSkus( data.subcategories, data.skus, data.groupers)}\r\n                                        categories={[data.category]}\r\n                                        subcategories={sortSubcategories( [data.category], data.subcategories)}\r\n                                        brands={data.groupers}\r\n                                        position='relative'\r\n                                    >\r\n                                        <Button variant=\"outlined\">\r\n                                            Ver grafico\r\n                                        </Button>\r\n                                    </FullScreenDialog>\r\n                                </Grid>\r\n                                <Grid item xs={12} align='left' style={{marginBottom: open ? '1.5em': '0'}}>\r\n                                    {open ? <div style={{display:'flex', alignItems:'center', width:'max-content', cursor:'pointer'}} onClick={handleClick}>Ver menos <ExpandLess/></div> : <div style={{display:'flex', alignItems:'center', width:'max-content', cursor:'pointer'}} onClick={handleClick}>Ver mas <ExpandMore/></div>}\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                                <Grid container alignItems='center' spacing={3} alignItems=\"stretch\">\r\n                                    <Grid item xs={12} style={{display: 'flex'}}>\r\n                                        <Paper \r\n                                            variant=\"outlined\"\r\n                                            style={{padding:'1em', width: '100%'}}\r\n                                        >\r\n                                            <Typography \r\n                                                variant='subtitle2'\r\n                                                align='left'\r\n                                                style={{textTransform:'capitalize'}}\r\n                                            >\r\n                                                Subcategorias\r\n                                            </Typography>\r\n                                            <Divider light style={{marginBottom: '.5em'}}/>\r\n                                            <div>\r\n                                                {\r\n                                                    data.subcategories.map((data, index)=>{\r\n                                                        return (\r\n                                                            <div key={index} style={{display:'flex', flexDirection:'column'}}>\r\n                                                                <Typography variant='body2' align='left' display='flex' alignItems='center'>\r\n                                                                    <div style={{width:'1em', height:'1em', backgroundColor:data.color, marginRight:'.5em', borderRadius: '50%'}}/>\r\n                                                                    {data.name}\r\n                                                                </Typography>\r\n                                                                <Typography variant='caption' align='left' display='flex' alignItems='center'>\r\n                                                                    {data.description}\r\n                                                                </Typography>\r\n                                                                <Divider light style={{marginBottom: '.5em'}}/>\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </div>\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    \r\n                                    <Grid item xs={12} style={{display: 'flex'}}>\r\n                                        <Paper \r\n                                            variant=\"outlined\"\r\n                                            style={{padding:'1em', width: '100%'}}\r\n                                        >\r\n                                            <Typography \r\n                                                variant='subtitle2'\r\n                                                align='left'\r\n                                                style={{textTransform:'capitalize'}}\r\n                                            >\r\n                                                Marcas\r\n                                            </Typography>\r\n                                            <Divider light style={{marginBottom: '.5em'}}/>\r\n                                            <div>\r\n                                                {\r\n                                                    data.groupers.map((data, index)=>{\r\n                                                        return (\r\n                                                            <div key={index} style={{display:'flex', flexDirection:'column'}}>\r\n                                                                <Typography variant='body2' align='left' display='flex' alignItems='center'>\r\n                                                                    <div style={{width:'1em', height:'1em', backgroundColor:data.color, marginRight:'.5em', borderRadius: '50%'}}/>\r\n                                                                    {data.name}\r\n                                                                </Typography>\r\n                                                                <Typography variant='caption' align='left' display='flex' alignItems='center'>\r\n                                                                    {data.maker}\r\n                                                                </Typography>\r\n                                                                <Divider light style={{marginBottom: '.5em'}}/>\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </div>\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} style={{display: 'flex'}}>\r\n                                        <Paper \r\n                                            variant=\"outlined\"\r\n                                            style={{padding:'1em', width: '100%'}}\r\n                                        >\r\n                                            <Typography \r\n                                                variant='subtitle2'\r\n                                                align='left'\r\n                                                style={{textTransform:'capitalize'}}\r\n                                            >\r\n                                                SKUs\r\n                                            </Typography>\r\n                                            <Divider light style={{marginBottom: '.5em'}}/>\r\n                                            <div>\r\n                                                {\r\n                                                    data.skus.map((data, index)=>{\r\n                                                        return (\r\n                                                            <div key={index} style={{display:'flex', flexDirection:'column'}}>\r\n                                                                <Typography key={index} variant='body2' align='left'>\r\n                                                                    {data.name}\r\n                                                                </Typography>\r\n                                                                <Typography key={index} variant='caption' align='left'>\r\n                                                                    {data.grouper.name} / {data.grouper.maker}\r\n                                                                </Typography>\r\n                                                                <Typography key={index} variant='caption' align='left'>\r\n                                                                    {data.content} {data.unit} / {data.presentation}\r\n                                                                </Typography>\r\n                                                                <Divider light style={{marginBottom: '.5em'}}/>\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </div>\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Collapse>\r\n                        </div>\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Category;","import React from 'react';\r\n\r\nimport Button from '@mui/material/Button';\r\nimport Stack from '@mui/material/Stack';\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport NewData from '../NewData';\r\nimport Category from './Category';\r\n\r\nconst Categories = () => {\r\n\r\n    const [categories, setCategories] = React.useState([]);\r\n    const [waiting, setWaiting] = React.useState(false);\r\n\r\n    return (\r\n        <Grid container alignItems='flex-start' spacing={3}>\r\n            <Grid item xs={3}>\r\n                <div style={{display: 'flex', flexDirection: 'column', position:'relative', height:'calc(100vh - 4em)', borderRight:'1px solid rgba(0, 0, 0, 0.12)', justifyContent: 'space-between'}}>\r\n                    {\r\n                    //<div style={{position: 'relative', maxHeight:'calc(100vh - 8.6em)', height:'calc(100vh - 4em)', overflow:'auto', padding:'1.5em', boxSizing:'border-box', borderRight:'1px solid rgba(0, 0, 0, 0.12)', }}>\r\n                    }\r\n                    <div style={{position: 'relative', maxHeight:'calc(100vh - 8em)', overflow:'auto', boxSizing:'border-box', padding:'1.5em'}}>\r\n                        {\r\n                            categories.map((state, index)=>{\r\n                                return (\r\n                                <div key={index} style={{marginBottom:'1em'}}>\r\n                                    <Category\r\n                                        data={state}\r\n                                    />\r\n                                </div>\r\n                                );\r\n                            })\r\n                        }\r\n                    </div>\r\n                    {\r\n                    //<div style={{position:'absolute', left:0, bottom:0, backgroundColor: '#fff', width:'100%', padding:'1em', boxSizing:'border-box', borderTop:'1px solid rgba(0, 0, 0, 0.12)'}}>\r\n                    }\r\n                    <div style={{padding:'1em', boxSizing:'border-box', borderTop:'1px solid rgba(0, 0, 0, 0.12)'}}>\r\n                        <Stack spacing={2}>\r\n                            <Button\r\n                                variant='contained'\r\n                                color='primary'\r\n                                onClick={()=>{\r\n                \r\n                                }}\r\n                                disabled={categories.length===0}\r\n                            >\r\n                                Continuar\r\n                            </Button>\r\n                        </Stack>\r\n                    </div>\r\n                </div>\r\n            </Grid>\r\n            <Grid item xs={9} style={{padding:'1.5em', overflow:'auto', maxHeight: 'calc(100vh - 4em)'}}>\r\n                {waiting?\r\n                    <div\r\n                        style={{\r\n                            marginTop: '1em',\r\n                            height: '80vh',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                        }}\r\n                    >\r\n                        <Stack spacing={2}>\r\n                            <Button\r\n                                variant='contained'\r\n                                onClick={()=>{\r\n                                    setWaiting(false);\r\n                                }}\r\n                            >\r\n                                Agregar otra categoria\r\n                            </Button>\r\n                            {\r\n                            // <Button\r\n                            //     variant='contained'\r\n                            //     color='primary'\r\n                            //     onClick={()=>{\r\n                \r\n                            //     }}\r\n                            // >\r\n                            //     Finalizar\r\n                            // </Button>\r\n                            }\r\n                        </Stack>\r\n                    </div>\r\n                    :\r\n                    <div style={{padding:'1.5em'}}>\r\n                        <NewData\r\n                            onUpdate={(data)=>{\r\n                                setCategories([...categories, data])\r\n                            }}\r\n                            onFinish={()=>{\r\n                                setWaiting(true);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default Categories;","export default __webpack_public_path__ + \"static/media/horus.a67137fc.svg\";","import React from 'react';\r\nimport useMousePosition from '../../Hooks/useMousePosition';\r\nimport { makeStyles } from '@mui/styles';\r\nimport logo from './horus.svg';\r\nimport { display } from '@mui/system';\r\n\r\n\r\nconst useStyles = makeStyles((theme)=>({\r\n    cursor: {\r\n        position: 'fixed',\r\n        width: '2em',\r\n        height: '2em',\r\n        //backgroundColor:'red',\r\n        zIndex: '1000000',\r\n        //cursor: 'none'\r\n        //backgroundColor: 'red',\r\n        display: 'flex',\r\n        filter: 'brightness(0)'\r\n    },\r\n}));\r\n\r\nconst CustomCursor = () => {\r\n    const classes = useStyles();\r\n    const { x, y } = useMousePosition();\r\n\r\n    return (\r\n        <div\r\n            style={{ left: `calc(${x}px + .5em)`, top: `calc(${y}px + 1.25em)` }}\r\n            className={classes.cursor}\r\n        >\r\n            <img style={{width:'100%'}} src={logo}/>\r\n        </div>\r\n    )\r\n}   \r\n\r\nexport default CustomCursor;","import { useEffect, useState } from \"react\";\r\n\r\nexport default function useMousePosition() {\r\n  const [mousePosition, setMousePosition] = useState({ x: null, y: null });\r\n\r\n  useEffect(() => {\r\n    const mouseMoveHandler = (event) => {\r\n      const { clientX, clientY } = event;\r\n      setMousePosition({ x: clientX, y: clientY });\r\n    };\r\n    document.addEventListener(\"mousemove\", mouseMoveHandler);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousemove\", mouseMoveHandler);\r\n    };\r\n  }, []);\r\n\r\n  return mousePosition;\r\n}\r\n","import React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\n\r\nconst HeaderContainer = styled('div')(({ theme }) => ({\r\n    backgroundColor: theme.palette.bg.main,\r\n    padding: '1em', \r\n    position: 'fixed',\r\n    width: '100%',\r\n    top: 0,\r\n    left: 0,\r\n    zIndex: 1000,\r\n    height:'4em',\r\n    boxSizing:'border-box'\r\n}));\r\n  \r\n\r\nconst Header = () => {\r\n\r\n    return (\r\n        <>\r\n        <HeaderContainer>\r\n            -\r\n        </HeaderContainer>\r\n        <div style={{height:'4em'}}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Categories from './Pages/Categories';\r\nimport CustomCursor from './Components/CustomCursor';\r\nimport './App.css';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nimport Header from './Containers/Header';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2B9982',\r\n    },\r\n    secondary: {\r\n      main: '#eee'\r\n    },\r\n    bg:{\r\n      main: '#1F1C36'\r\n    }\r\n  },\r\n});\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <ThemeProvider theme={theme}>\r\n        <Header/>\r\n        <CustomCursor/>\r\n        <Categories/>\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n  \r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}